<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ğŸš€ Redis Streamè½¦è”ç½‘åˆ†å¸ƒå¼è¯Šæ–­ç³»ç»ŸæŠ€æœ¯æ–‡æ¡£ 2025</title>
    <script src="https://cdn.jsdelivr.net/npm/mermaid@10.6.1/dist/mermaid.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-core.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/autoloader/prism-autoloader.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-tomorrow.min.css">
    <style>
        :root {
            --primary-color: #FF6B35;
            --secondary-color: #004E89;
            --success-color: #27AE60;
            --warning-color: #F39C12;
            --danger-color: #E74C3C;
            --info-color: #3498DB;
            --bg-gradient: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            --card-bg: #ffffff;
            --text-primary: #2C3E50;
            --text-secondary: #7F8C8D;
            --border-color: #BDC3C7;
            --shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', 'Microsoft YaHei', 'PingFang SC', 'Hiragino Sans GB', sans-serif;
            line-height: 1.8;
            color: var(--text-primary);
            background: var(--bg-gradient);
            min-height: 100vh;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
        }

        .header {
            text-align: center;
            padding: 60px 20px;
            background: var(--card-bg);
            border-radius: 20px;
            margin-bottom: 40px;
            box-shadow: var(--shadow);
            position: relative;
            overflow: hidden;
        }

        .header::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 5px;
            background: linear-gradient(90deg, var(--primary-color), var(--info-color), var(--success-color));
        }

        .header h1 {
            font-size: 3em;
            margin-bottom: 20px;
            background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            font-weight: 700;
        }

        .header .subtitle {
            font-size: 1.3em;
            color: var(--text-secondary);
            margin-bottom: 30px;
        }

        .tech-badges {
            display: flex;
            justify-content: center;
            gap: 15px;
            flex-wrap: wrap;
        }

        .tech-badge {
            background: linear-gradient(135deg, var(--info-color), var(--primary-color));
            color: white;
            padding: 12px 24px;
            border-radius: 25px;
            font-weight: 600;
            font-size: 0.9em;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
            transform: translateY(0);
            transition: all 0.3s ease;
        }

        .tech-badge:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15);
        }

        .nav {
            background: var(--card-bg);
            border-radius: 15px;
            padding: 30px;
            margin-bottom: 40px;
            box-shadow: var(--shadow);
        }

        .nav h2 {
            color: var(--secondary-color);
            margin-bottom: 20px;
            font-size: 1.8em;
        }

        .nav-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 15px;
        }

        .nav-item {
            display: block;
            padding: 15px 20px;
            background: linear-gradient(135deg, var(--primary-color), var(--warning-color));
            color: white;
            text-decoration: none;
            border-radius: 10px;
            transition: all 0.3s ease;
            font-weight: 500;
            text-align: center;
        }

        .nav-item:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15);
        }

        .section {
            background: var(--card-bg);
            margin-bottom: 40px;
            border-radius: 15px;
            box-shadow: var(--shadow);
            overflow: hidden;
        }

        .section-header {
            background: linear-gradient(135deg, var(--secondary-color), var(--info-color));
            color: white;
            padding: 25px 30px;
            font-size: 1.8em;
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .section-content {
            padding: 40px 30px;
        }

        .section h3 {
            color: var(--primary-color);
            font-size: 1.5em;
            margin: 30px 0 15px 0;
            padding-bottom: 10px;
            border-bottom: 2px solid var(--primary-color);
        }

        .section h4 {
            color: var(--secondary-color);
            font-size: 1.3em;
            margin: 25px 0 10px 0;
        }

        .highlight-box {
            background: linear-gradient(135deg, #f8f9fa, #e9ecef);
            border-left: 5px solid var(--primary-color);
            padding: 25px;
            margin: 25px 0;
            border-radius: 0 10px 10px 0;
            position: relative;
        }

        .highlight-box::before {
            content: 'ğŸ’¡';
            position: absolute;
            top: -5px;
            left: -15px;
            background: var(--primary-color);
            color: white;
            width: 30px;
            height: 30px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.2em;
        }

        .feature-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 25px;
            margin: 30px 0;
        }

        .feature-card {
            background: linear-gradient(135deg, #f8f9fa, #ffffff);
            border: 2px solid var(--border-color);
            border-radius: 15px;
            padding: 25px;
            transition: all 0.3s ease;
            position: relative;
        }

        .feature-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.1);
            border-color: var(--primary-color);
        }

        .feature-card h5 {
            color: var(--primary-color);
            font-size: 1.2em;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .performance-metrics {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin: 30px 0;
        }

        .metric-card {
            background: linear-gradient(135deg, var(--success-color), #2ECC71);
            color: white;
            padding: 25px;
            border-radius: 15px;
            text-align: center;
            box-shadow: 0 10px 25px rgba(46, 204, 113, 0.3);
        }

        .metric-value {
            font-size: 2.5em;
            font-weight: 700;
            margin-bottom: 10px;
        }

        .metric-label {
            font-size: 0.9em;
            opacity: 0.9;
        }

        .code-block {
            background: #2d3748;
            color: #e2e8f0;
            padding: 25px;
            border-radius: 10px;
            margin: 20px 0;
            overflow-x: auto;
            font-family: 'Consolas', 'Monaco', 'Courier New', monospace;
            position: relative;
        }

        .code-block::before {
            content: attr(data-lang);
            position: absolute;
            top: 10px;
            right: 15px;
            background: var(--primary-color);
            color: white;
            padding: 5px 10px;
            border-radius: 5px;
            font-size: 0.8em;
        }

        .comparison-table {
            width: 100%;
            border-collapse: collapse;
            margin: 30px 0;
            background: var(--card-bg);
            border-radius: 10px;
            overflow: hidden;
            box-shadow: var(--shadow);
        }

        .comparison-table th,
        .comparison-table td {
            padding: 20px;
            text-align: left;
            border-bottom: 1px solid var(--border-color);
        }

        .comparison-table th {
            background: linear-gradient(135deg, var(--secondary-color), var(--info-color));
            color: white;
            font-weight: 600;
        }

        .comparison-table tr:nth-child(even) {
            background: #f8f9fa;
        }

        .status-badge {
            display: inline-block;
            padding: 8px 16px;
            border-radius: 20px;
            font-size: 0.85em;
            font-weight: 600;
            text-transform: uppercase;
        }

        .status-high { background: rgba(231, 76, 60, 0.1); color: var(--danger-color); }
        .status-medium { background: rgba(243, 156, 18, 0.1); color: var(--warning-color); }
        .status-low { background: rgba(39, 174, 96, 0.1); color: var(--success-color); }

        .timeline {
            position: relative;
            padding-left: 40px;
            margin: 30px 0;
        }

        .timeline::before {
            content: '';
            position: absolute;
            left: 15px;
            top: 0;
            bottom: 0;
            width: 3px;
            background: linear-gradient(to bottom, var(--primary-color), var(--info-color));
        }

        .timeline-item {
            position: relative;
            margin-bottom: 30px;
            background: var(--card-bg);
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }

        .timeline-item::before {
            content: '';
            position: absolute;
            left: -32px;
            top: 25px;
            width: 15px;
            height: 15px;
            border-radius: 50%;
            background: var(--primary-color);
            border: 3px solid white;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        }

        .mermaid {
            background: white;
            border-radius: 10px;
            padding: 20px;
            margin: 20px 0;
            box-shadow: var(--shadow);
        }

        .footer {
            background: var(--card-bg);
            border-radius: 15px;
            padding: 40px;
            text-align: center;
            margin-top: 50px;
            box-shadow: var(--shadow);
        }

        .footer h3 {
            color: var(--secondary-color);
            margin-bottom: 20px;
        }

        .tech-stack {
            display: flex;
            justify-content: center;
            gap: 20px;
            flex-wrap: wrap;
            margin: 20px 0;
        }

        .tech-item {
            background: linear-gradient(135deg, var(--info-color), var(--secondary-color));
            color: white;
            padding: 10px 20px;
            border-radius: 25px;
            font-weight: 500;
        }

        @media (max-width: 768px) {
            .container { padding: 10px; }
            .header h1 { font-size: 2em; }
            .feature-grid { grid-template-columns: 1fr; }
            .performance-metrics { grid-template-columns: repeat(2, 1fr); }
            .nav-grid { grid-template-columns: 1fr; }
        }

        .scroll-top {
            position: fixed;
            bottom: 30px;
            right: 30px;
            background: var(--primary-color);
            color: white;
            width: 50px;
            height: 50px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
            transition: all 0.3s ease;
            opacity: 0;
            visibility: hidden;
        }

        .scroll-top.visible {
            opacity: 1;
            visibility: visible;
        }

        .scroll-top:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.3);
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- å¤´éƒ¨ -->
        <header class="header">
            <h1>ğŸš€ Redis Streamè½¦è”ç½‘åˆ†å¸ƒå¼è¯Šæ–­ç³»ç»Ÿ</h1>
            <p class="subtitle">ç†è®ºçŸ¥è¯† â€¢ é¡¹ç›®å®è·µ â€¢ 2025å¹´æŠ€æœ¯è¶‹åŠ¿</p>
            <div class="tech-badges">
                <span class="tech-badge">Redis 8.0</span>
                <span class="tech-badge">Redis Stream</span>
                <span class="tech-badge">åˆ†å¸ƒå¼æ¶æ„</span>
                <span class="tech-badge">è½¦è”ç½‘IoT</span>
                <span class="tech-badge">å®æ—¶è¯Šæ–­</span>
                <span class="tech-badge">é«˜æ€§èƒ½</span>
            </div>
        </header>

        <!-- å¯¼èˆª -->
        <nav class="nav">
            <h2>ğŸ“š æ–‡æ¡£ç›®å½•</h2>
            <div class="nav-grid">
                <a href="#theory" class="nav-item">ğŸ§  Redis Streamç†è®ºåŸºç¡€</a>
                <a href="#architecture" class="nav-item">ğŸ—ï¸ åˆ†å¸ƒå¼æ¶æ„è®¾è®¡</a>
                <a href="#implementation" class="nav-item">ğŸ’» é¡¹ç›®å®è·µåº”ç”¨</a>
                <a href="#performance" class="nav-item">âš¡ æ€§èƒ½ä¼˜åŒ–ç­–ç•¥</a>
                <a href="#redis8" class="nav-item">ğŸ†• Redis 8.0æ–°ç‰¹æ€§</a>
                <a href="#optimization" class="nav-item">ğŸ”§ æ‰©å±•ä¼˜åŒ–æ–¹æ¡ˆ</a>
            </div>
        </nav>

        <!-- Redis Streamç†è®ºåŸºç¡€ -->
        <section id="theory" class="section">
            <div class="section-header">
                ğŸ§  Redis Streamç†è®ºåŸºç¡€ä¸æ ¸å¿ƒæ¦‚å¿µ
            </div>
            <div class="section-content">
                <h3>ğŸ¯ ä»€ä¹ˆæ˜¯Redis Stream</h3>
                <p>Redis Streamæ˜¯Redis 5.0å¼•å…¥çš„å¼ºå¤§æ•°æ®ç»“æ„ï¼Œä¸“ä¸ºå®æ—¶æ•°æ®æµå¤„ç†å’Œäº‹ä»¶é©±åŠ¨æ¶æ„è®¾è®¡ã€‚å®ƒæä¾›ç±»ä¼¼æ—¥å¿—çš„æ•°æ®ç»“æ„ï¼Œæ”¯æŒå¤šæ¶ˆè´¹è€…é«˜æ•ˆè¯»å–åŒä¸€æ•°æ®æµã€‚</p>

                <div class="highlight-box">
                    <strong>æ ¸å¿ƒç‰¹æ€§ï¼š</strong>
                    <ul>
                        <li><strong>æ¶ˆæ¯æŒä¹…åŒ–ï¼š</strong>æ¶ˆæ¯å­˜å‚¨åœ¨å†…å­˜ä¸­ï¼Œå¯é€‰æ‹©æŒä¹…åŒ–åˆ°ç£ç›˜</li>
                        <li><strong>å”¯ä¸€IDï¼š</strong>æ¯æ¡æ¶ˆæ¯éƒ½æœ‰æ—¶é—´æˆ³åŸºç¡€çš„å”¯ä¸€æ ‡è¯†ç¬¦</li>
                        <li><strong>æ¶ˆè´¹è€…ç»„ï¼š</strong>æ”¯æŒå¤šæ¶ˆè´¹è€…åä½œå¤„ç†ï¼Œå®ç°è´Ÿè½½å‡è¡¡</li>
                        <li><strong>æ¶ˆæ¯ç¡®è®¤ï¼š</strong>XACKæœºåˆ¶ç¡®ä¿æ¶ˆæ¯å¤„ç†å®Œæ•´æ€§</li>
                    </ul>
                </div>

                <h3>ğŸ”„ æ¶ˆæ¯å¤„ç†æ¨¡å‹</h3>
                <div class="mermaid">
                    graph TD
                        A[æ•°æ®ç”Ÿäº§è€…] -->|XADD| B[Redis Stream]
                        B --> C[æ¶ˆè´¹è€…ç»„1]
                        B --> D[æ¶ˆè´¹è€…ç»„2]
                        C --> E[æ¶ˆè´¹è€…1-1]
                        C --> F[æ¶ˆè´¹è€…1-2]
                        D --> G[æ¶ˆè´¹è€…2-1]
                        E -->|XACK| B
                        F -->|XACK| B
                        G -->|XACK| B
                </div>

                <h3>ğŸ’¡ æ ¸å¿ƒå‘½ä»¤è¯¦è§£</h3>
                <div class="feature-grid">
                    <div class="feature-card">
                        <h5>ğŸ”¸ XADD - æ·»åŠ æ¶ˆæ¯</h5>
                        <div class="code-block" data-lang="Redis">
XADD mystream * field1 value1 field2 value2
                        </div>
                        <p>å‘Streamæ·»åŠ æ¶ˆæ¯ï¼Œ*è¡¨ç¤ºè‡ªåŠ¨ç”ŸæˆID</p>
                    </div>
                    <div class="feature-card">
                        <h5>ğŸ”¸ XREADGROUP - æ¶ˆè´¹è€…ç»„è¯»å–</h5>
                        <div class="code-block" data-lang="Redis">
XREADGROUP GROUP mygroup consumer1 COUNT 10 STREAMS mystream >
                        </div>
                        <p>æ¶ˆè´¹è€…ç»„æ¨¡å¼è¯»å–ï¼Œæ”¯æŒè´Ÿè½½å‡è¡¡å’Œæ•…éšœæ¢å¤</p>
                    </div>
                    <div class="feature-card">
                        <h5>ğŸ”¸ XACK - æ¶ˆæ¯ç¡®è®¤</h5>
                        <div class="code-block" data-lang="Redis">
XACK mystream mygroup 1609602085397-0
                        </div>
                        <p>ç¡®è®¤æ¶ˆæ¯å·²å¤„ç†ï¼Œä»å¾…å¤„ç†åˆ—è¡¨ä¸­ç§»é™¤</p>
                    </div>
                    <div class="feature-card">
                        <h5>ğŸ”¸ XTRIM - æµè£å‰ª</h5>
                        <div class="code-block" data-lang="Redis">
XTRIM mystream MAXLEN 1000
                        </div>
                        <p>é™åˆ¶Streamå¤§å°ï¼Œé˜²æ­¢å†…å­˜æ— é™å¢é•¿</p>
                    </div>
                </div>

                <h3>ğŸª æ¶ˆè´¹è€…ç»„å·¥ä½œåŸç†</h3>
                <p>æ¶ˆè´¹è€…ç»„æ˜¯Redis Streamçš„æ ¸å¿ƒç‰¹æ€§ä¹‹ä¸€ï¼Œå®ƒå®ç°äº†ä»¥ä¸‹å…³é”®åŠŸèƒ½ï¼š</p>
                <div class="feature-grid">
                    <div class="feature-card">
                        <h5>âš–ï¸ è´Ÿè½½å‡è¡¡</h5>
                        <p>æ¯ä¸ªæ¶ˆè´¹è€…å¤„ç†ä¸åŒçš„æ¶ˆæ¯å­é›†ï¼Œå®ç°æ°´å¹³æ‰©å±•</p>
                    </div>
                    <div class="feature-card">
                        <h5>ğŸ›¡ï¸ æ•…éšœæ¢å¤</h5>
                        <p>æ¶ˆè´¹è€…å¤±è´¥æ—¶ï¼Œæœªç¡®è®¤æ¶ˆæ¯å¯é‡æ–°åˆ†é…ç»™å…¶ä»–æ¶ˆè´¹è€…</p>
                    </div>
                    <div class="feature-card">
                        <h5>ğŸ“Š çŠ¶æ€è·Ÿè¸ª</h5>
                        <p>Redisè·Ÿè¸ªæ¯ä¸ªæ¶ˆè´¹è€…çš„å¤„ç†è¿›åº¦å’Œå¾…å¤„ç†æ¶ˆæ¯</p>
                    </div>
                    <div class="feature-card">
                        <h5>ğŸ”„ æ¶ˆæ¯é‡æ”¾</h5>
                        <p>æ”¯æŒä»ç‰¹å®šä½ç½®é‡æ–°æ¶ˆè´¹æ¶ˆæ¯</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- åˆ†å¸ƒå¼æ¶æ„è®¾è®¡ -->
        <section id="architecture" class="section">
            <div class="section-header">
                ğŸ—ï¸ è½¦è”ç½‘åˆ†å¸ƒå¼æ¶æ„è®¾è®¡
            </div>
            <div class="section-content">
                <h3>ğŸš— é¡¹ç›®æ¶æ„æ¦‚è§ˆ</h3>
                <div class="mermaid">
                    graph TB
                        subgraph "è½¦è¾†ç»ˆç«¯"
                            V1[è½¦è¾†1]
                            V2[è½¦è¾†2]
                            VN[è½¦è¾†N...]
                        end
                        
                        subgraph "æ•°æ®æ¥æ”¶å±‚"
                            CR[Checkin Receiver]
                        end
                        
                        subgraph "Redis Streamé›†ç¾¤"
                            RS1[motor_raw_data]
                            RS2[fault_diagnosis_results]
                            RS3[performance_metrics]
                            RS4[system_alerts]
                        end
                        
                        subgraph "æ•…éšœè¯Šæ–­å±‚"
                            CG1[è½¬å­æ•…éšœç»„]
                            CG2[è½´æ‰¿æ•…éšœç»„]
                            CG3[ç»ç¼˜æ•…éšœç»„]
                            CG4[åå¿ƒæ•…éšœç»„]
                            CG5[æ–­æ¡æ•…éšœç»„]
                        end
                        
                        subgraph "å‰ç«¯å±•ç¤ºå±‚"
                            WS[WebSocket Manager]
                            UI[Dashboard UI]
                        end
                        
                        V1 --> CR
                        V2 --> CR
                        VN --> CR
                        CR --> RS1
                        RS1 --> CG1
                        RS1 --> CG2
                        RS1 --> CG3
                        RS1 --> CG4
                        RS1 --> CG5
                        CG1 --> RS2
                        CG2 --> RS2
                        CG3 --> RS2
                        CG4 --> RS2
                        CG5 --> RS2
                        RS2 --> WS
                        WS --> UI
                </div>

                <h3>ğŸ¯ æ ¸å¿ƒè®¾è®¡åŸåˆ™</h3>
                <div class="feature-grid">
                    <div class="feature-card">
                        <h5>ğŸ”„ å¼‚æ­¥è§£è€¦</h5>
                        <p>ç”Ÿäº§è€…å’Œæ¶ˆè´¹è€…é€šè¿‡Streamå¼‚æ­¥é€šä¿¡ï¼Œæé«˜ç³»ç»Ÿå¼¹æ€§</p>
                    </div>
                    <div class="feature-card">
                        <h5>âš¡ é«˜å¹¶å‘å¤„ç†</h5>
                        <p>å¤šæ¶ˆè´¹è€…ç»„å¹¶è¡Œå¤„ç†ä¸åŒç±»å‹çš„æ•…éšœè¯Šæ–­</p>
                    </div>
                    <div class="feature-card">
                        <h5>ğŸ›¡ï¸ å®¹é”™æœºåˆ¶</h5>
                        <p>æ¶ˆæ¯ç¡®è®¤å’Œé‡è¯•æœºåˆ¶ä¿è¯æ•°æ®ä¸ä¸¢å¤±</p>
                    </div>
                    <div class="feature-card">
                        <h5>ğŸ“ˆ æ°´å¹³æ‰©å±•</h5>
                        <p>æ”¯æŒåŠ¨æ€å¢åŠ æ¶ˆè´¹è€…å®ä¾‹åº”å¯¹è´Ÿè½½å¢é•¿</p>
                    </div>
                </div>

                <h3>ğŸ”§ Streamé…ç½®ç­–ç•¥</h3>
                <div class="code-block" data-lang="Python">
# é¡¹ç›®ä¸­çš„Streamé…ç½®
self.streams = {
    "raw_data": "motor_raw_data",           # åŸå§‹ç”µæœºæ•°æ®æµ
    "fault_results": "fault_diagnosis_results", # æ•…éšœè¯Šæ–­ç»“æœæµ
    "performance_metrics": "performance_metrics", # æ€§èƒ½ç›‘æ§æµ
    "system_alerts": "system_alerts"        # ç³»ç»Ÿå‘Šè­¦æµ
}

# æ¶ˆè´¹è€…ç»„é…ç½®
self.consumer_groups = {
    FaultType.TURN_FAULT.value: "turn_fault_diagnosis_group",
    FaultType.INSULATION.value: "insulation_diagnosis_group", 
    FaultType.BEARING.value: "bearing_diagnosis_group",
    FaultType.ECCENTRICITY.value: "eccentricity_diagnosis_group",
    FaultType.BROKEN_BAR.value: "broken_bar_diagnosis_group"
}
                </div>
            </div>
        </section>

        <!-- é¡¹ç›®å®è·µåº”ç”¨ -->
        <section id="implementation" class="section">
            <div class="section-header">
                ğŸ’» é¡¹ç›®å®è·µåº”ç”¨ä¸å…³é”®å®ç°
            </div>
            <div class="section-content">
                <h3>ğŸš€ æ•°æ®ååæ ¸å¿ƒæœºåˆ¶</h3>
                
                <h4>ğŸ“ æ¶ˆæ¯å‘å¸ƒå®ç°</h4>
                <div class="code-block" data-lang="Python">
async def publish_motor_data(self, vehicle_id: str, sensor_data: Dict[str, Any], 
                            metadata: Dict[str, Any] = None) -> bool:
    """å‘å¸ƒç”µæœºæ•°æ®åˆ°æµä¸­"""
    try:
        if not self.redis_client:
            await self.connect()
        
        # æ„å»ºæ¶ˆæ¯
        message = {
            "vehicle_id": vehicle_id,
            "timestamp": datetime.now().isoformat(),
            "sensor_data": json.dumps(sensor_data),
            "metadata": json.dumps(metadata or {})
        }
        
        # å‘å¸ƒåˆ°åŸå§‹æ•°æ®æµ
        message_id = await self.redis_client.xadd(
            self.streams["raw_data"],
            message
        )
        
        logger.info(f"âœ… å‘å¸ƒæ¶ˆæ¯æˆåŠŸ: {message_id}")
        return True
        
    except Exception as e:
        logger.error(f"âŒ å‘å¸ƒæ¶ˆæ¯å¤±è´¥: {e}")
        return False
                </div>

                <h4>ğŸ” æ¶ˆè´¹è€…ç»„å¤„ç†é€»è¾‘</h4>
                <div class="code-block" data-lang="Python">
async def start_fault_consumer(self, fault_type: FaultType, consumer_id: str):
    """å¯åŠ¨æ•…éšœè¯Šæ–­æ¶ˆè´¹è€…"""
    group_name = self.consumer_groups[fault_type.value]
    analyzer = self.analyzers[fault_type.value]
    
    while self.is_running:
        try:
            # ä»æ¶ˆè´¹è€…ç»„è¯»å–æ¶ˆæ¯
            messages = await self.redis_client.xreadgroup(
                group_name,
                consumer_id,
                {self.streams["raw_data"]: ">"},
                count=10,
                block=1000
            )
            
            for stream, msgs in messages:
                for msg_id, fields in msgs:
                    # å¤„ç†æ¶ˆæ¯
                    result = await self._process_message(
                        fault_type, analyzer, msg_id, fields
                    )
                    
                    # å‘å¸ƒè¯Šæ–­ç»“æœ
                    await self._publish_diagnosis_result(result)
                    
                    # ç¡®è®¤æ¶ˆæ¯å¤„ç†å®Œæˆ
                    await self.redis_client.xack(
                        self.streams["raw_data"],
                        group_name,
                        msg_id
                    )
                    
        except Exception as e:
            logger.error(f"æ¶ˆè´¹è€… {consumer_id} å¤„ç†å¤±è´¥: {e}")
            await asyncio.sleep(1)
                </div>

                <h3>ğŸ§  ç¼“å­˜ä¸ç¼“å†²æœºåˆ¶</h3>
                
                <div class="highlight-box">
                    <strong>å¤šå±‚ç¼“å­˜æ¶æ„ï¼š</strong>
                    <ul>
                        <li><strong>L1ç¼“å­˜ï¼š</strong>æ¶ˆæ¯çº§ç¼“å­˜ï¼Œé¿å…é‡å¤å¤„ç†</li>
                        <li><strong>L2ç¼“å­˜ï¼š</strong>è½¦è¾†çŠ¶æ€ç¼“å­˜ï¼Œå¿«é€Ÿè®¿é—®è½¦è¾†ä¿¡æ¯</li>
                        <li><strong>L3ç¼“å­˜ï¼š</strong>æ—¶é—´æˆ³ç¼“å­˜ï¼Œä¼˜åŒ–æ—¶åºæŸ¥è¯¢</li>
                    </ul>
                </div>

                <div class="code-block" data-lang="Python">
class StreamCacheOptimizer:
    """Redis Streamç¼“å­˜ä¼˜åŒ–å™¨"""
    
    def __init__(self, redis_url: str = "redis://localhost:6379"):
        # ğŸš€ é«˜æ€§èƒ½é…ç½®
        self.max_batch_size = 100          # æ‰¹å¤„ç†å¤§å°
        self.processing_interval = 0.05    # 50mså¤„ç†é—´éš”ï¼Œ20fps
        self.cache_ttl = 3600             # ç¼“å­˜TTL 1å°æ—¶
        
        # ğŸ§  æ™ºèƒ½é™é‡‡æ ·é…ç½®
        self.sampling_rates = {
            "high_frequency": 0.1,    # é«˜é¢‘æ•°æ®10%é‡‡æ ·ç‡
            "medium_frequency": 0.3,  # ä¸­é¢‘æ•°æ®30%é‡‡æ ·ç‡
            "low_frequency": 1.0,     # ä½é¢‘æ•°æ®100%ä¿ç•™
            "critical_alerts": 1.0    # å…³é”®è­¦æŠ¥100%ä¿ç•™
        }
        
        # ğŸ“¦ ç¼“å­˜ç®¡ç†
        self.message_cache = {}                    # æ¶ˆæ¯çº§ç¼“å­˜
        self.vehicle_cache = defaultdict(dict)     # è½¦è¾†çº§ç¼“å­˜
        self.last_sent_timestamps = defaultdict(float)  # æ—¶é—´æˆ³ç¼“å­˜
                </div>

                <h3>âš¡ æ™ºèƒ½é‡‡æ ·ä¸æ‰¹å¤„ç†</h3>
                <div class="performance-metrics">
                    <div class="metric-card">
                        <div class="metric-value">100</div>
                        <div class="metric-label">æ‰¹å¤„ç†å¤§å°</div>
                    </div>
                    <div class="metric-card">
                        <div class="metric-value">50ms</div>
                        <div class="metric-label">å¤„ç†é—´éš”</div>
                    </div>
                    <div class="metric-card">
                        <div class="metric-value">20fps</div>
                        <div class="metric-label">æ›´æ–°é¢‘ç‡</div>
                    </div>
                    <div class="metric-card">
                        <div class="metric-value">10%</div>
                        <div class="metric-label">é«˜é¢‘é‡‡æ ·ç‡</div>
                    </div>
                </div>

                <h4>ğŸ¯ æ™ºèƒ½é‡‡æ ·ç®—æ³•</h4>
                <div class="code-block" data-lang="Python">
def should_sample_message(self, vehicle_id: str, message_data: Dict) -> bool:
    """æ™ºèƒ½é‡‡æ ·å†³ç­–"""
    
    # å…³é”®è­¦æŠ¥å§‹ç»ˆä¿ç•™
    if message_data.get('alert_level') == 'critical':
        return True
    
    # åŸºäºæ¶ˆæ¯é¢‘ç‡åŠ¨æ€é‡‡æ ·
    self.vehicle_message_counts[vehicle_id] += 1
    count = self.vehicle_message_counts[vehicle_id]
    
    if count % 100 == 0:  # é«˜é¢‘æ•°æ®
        return random.random() < self.sampling_rates["high_frequency"]
    elif count % 10 == 0:  # ä¸­é¢‘æ•°æ®
        return random.random() < self.sampling_rates["medium_frequency"]
    else:  # ä½é¢‘æ•°æ®
        return random.random() < self.sampling_rates["low_frequency"]
                </div>
            </div>
        </section>

        <!-- æ€§èƒ½ä¼˜åŒ–ç­–ç•¥ -->
        <section id="performance" class="section">
            <div class="section-header">
                âš¡ æ€§èƒ½ä¼˜åŒ–ç­–ç•¥ä¸æœ€ä½³å®è·µ
            </div>
            <div class="section-content">
                <h3>ğŸš€ Redis Streamæ€§èƒ½è°ƒä¼˜</h3>
                
                <h4>ğŸ”§ è¿æ¥æ± ä¼˜åŒ–</h4>
                <div class="code-block" data-lang="Python">
# Redisè¿æ¥æ± é…ç½®
self.redis_client = redis.from_url(
    self.redis_url,
    decode_responses=True,
    retry_on_timeout=True,
    health_check_interval=30,
    socket_keepalive=True,
    socket_keepalive_options={
        'TCP_KEEPIDLE': 1,
        'TCP_KEEPINTVL': 3,
        'TCP_KEEPCNT': 5
    },
    max_connections=100,  # è¿æ¥æ± å¤§å°
    connection_pool_kwargs={
        'max_connections': 100,
        'retry_on_timeout': True
    }
)
                </div>

                <h4>âš¡ æ‰¹é‡æ“ä½œä¼˜åŒ–</h4>
                <div class="feature-grid">
                    <div class="feature-card">
                        <h5>ğŸ“¦ æ‰¹é‡è¯»å–</h5>
                        <p>ä½¿ç”¨COUNTå‚æ•°ä¸€æ¬¡è¯»å–å¤šæ¡æ¶ˆæ¯ï¼Œå‡å°‘ç½‘ç»œå¾€è¿”</p>
                        <div class="code-block" data-lang="Python">
# æ‰¹é‡è¯»å–æ¶ˆæ¯
messages = await self.redis_client.xreadgroup(
    group_name, consumer_id,
    {stream_name: ">"},
    count=50,  # ä¸€æ¬¡è¯»å–50æ¡
    block=1000
)
                        </div>
                    </div>
                    <div class="feature-card">
                        <h5>âœ… æ‰¹é‡ç¡®è®¤</h5>
                        <p>æ”¶é›†å¤šä¸ªæ¶ˆæ¯IDåæ‰¹é‡XACKï¼Œæé«˜ç¡®è®¤æ•ˆç‡</p>
                        <div class="code-block" data-lang="Python">
# æ‰¹é‡ç¡®è®¤æ¶ˆæ¯
if len(message_ids) >= batch_size:
    await self.redis_client.xack(
        stream_name, group_name, 
        *message_ids
    )
    message_ids.clear()
                        </div>
                    </div>
                </div>

                <h3>ğŸ“Š æ€§èƒ½ç›‘æ§æŒ‡æ ‡</h3>
                <div class="code-block" data-lang="Python">
# æ€§èƒ½ç»Ÿè®¡æ”¶é›†
self.stats = {
    "total_received": 0,        # æ€»æ¥æ”¶æ¶ˆæ¯æ•°
    "total_processed": 0,       # æ€»å¤„ç†æ¶ˆæ¯æ•°
    "total_cached": 0,          # æ€»ç¼“å­˜å‘½ä¸­æ•°
    "cache_hits": 0,           # ç¼“å­˜å‘½ä¸­æ¬¡æ•°
    "cache_misses": 0,         # ç¼“å­˜æœªå‘½ä¸­æ¬¡æ•°
    "retry_count": 0,          # é‡è¯•æ¬¡æ•°
    "error_count": 0,          # é”™è¯¯æ¬¡æ•°
    "processing_latency_p99": 0, # 99åˆ†ä½å»¶è¿Ÿ
    "throughput_per_second": 0   # æ¯ç§’ååé‡
}
                </div>

                <h3>ğŸª å†…å­˜ç®¡ç†ç­–ç•¥</h3>
                <div class="highlight-box">
                    <strong>å†…å­˜ä¼˜åŒ–è¦ç‚¹ï¼š</strong>
                    <ul>
                        <li><strong>å®šæœŸæ¸…ç†ï¼š</strong>ä½¿ç”¨XTRIMé™åˆ¶Streamå¤§å°</li>
                        <li><strong>TTLè®¾ç½®ï¼š</strong>ä¸ºç¼“å­˜æ•°æ®è®¾ç½®åˆç†çš„è¿‡æœŸæ—¶é—´</li>
                        <li><strong>å‹ç¼©ç®—æ³•ï¼š</strong>å¯¹å¤§æ¶ˆæ¯è¿›è¡Œå‹ç¼©å­˜å‚¨</li>
                        <li><strong>åˆ†ç‰‡ç­–ç•¥ï¼š</strong>æŒ‰ä¸šåŠ¡é€»è¾‘åˆ†æ•£æ•°æ®åˆ°å¤šä¸ªStream</li>
                    </ul>
                </div>

                <div class="code-block" data-lang="Python">
async def cleanup_old_messages(self):
    """å®šæœŸæ¸…ç†æ—§æ¶ˆæ¯"""
    for stream_name in self.streams.values():
        try:
            # ä¿ç•™æœ€è¿‘1000æ¡æ¶ˆæ¯
            await self.redis_client.xtrim(
                stream_name, 
                maxlen=1000,
                approximate=True  # è¿‘ä¼¼è£å‰ªï¼Œæ€§èƒ½æ›´å¥½
            )
        except Exception as e:
            logger.error(f"æ¸…ç†Stream {stream_name} å¤±è´¥: {e}")
                </div>
            </div>
        </section>

        <!-- Redis 8.0æ–°ç‰¹æ€§ -->
        <section id="redis8" class="section">
            <div class="section-header">
                ğŸ†• Redis 8.0é©å‘½æ€§æ–°ç‰¹æ€§
            </div>
            <div class="section-content">
                <h3>ğŸš€ æ€§èƒ½çªç ´æ€§æå‡</h3>
                <div class="performance-metrics">
                    <div class="metric-card">
                        <div class="metric-value">87%</div>
                        <div class="metric-label">å‘½ä»¤å»¶è¿Ÿé™ä½</div>
                    </div>
                    <div class="metric-card">
                        <div class="metric-value">112%</div>
                        <div class="metric-label">ååé‡æå‡</div>
                    </div>
                    <div class="metric-card">
                        <div class="metric-value">35%</div>
                        <div class="metric-label">å†…å­˜ä½¿ç”¨å‡å°‘</div>
                    </div>
                    <div class="metric-card">
                        <div class="metric-value">18%</div>
                        <div class="metric-label">å¤åˆ¶é€Ÿåº¦æå‡</div>
                    </div>
                </div>

                <h3>ğŸ”§ å¤šçº¿ç¨‹I/Oä¼˜åŒ–</h3>
                <div class="highlight-box">
                    <strong>æ–°çš„å¼‚æ­¥I/Oçº¿ç¨‹å®ç°ï¼š</strong>
                    <ul>
                        <li>ä¸»çº¿ç¨‹å°†å®¢æˆ·ç«¯åˆ†é…ç»™ç‰¹å®šçš„I/Oçº¿ç¨‹</li>
                        <li>æ¯ä¸ªI/Oçº¿ç¨‹å¤„ç†å®¢æˆ·ç«¯è¯»å–ã€è§£æå’Œå†™å…¥</li>
                        <li>ä¸»çº¿ç¨‹ä¸“æ³¨äºå‘½ä»¤æ‰§è¡Œå’Œå“åº”ç”Ÿæˆ</li>
                        <li>æ”¯æŒæœ€å¤š16ä¸ªI/Oçº¿ç¨‹ï¼Œå®ç°çœŸæ­£çš„å¹¶è¡Œå¤„ç†</li>
                    </ul>
                </div>

                <div class="code-block" data-lang="Config">
# Redis 8.0 I/Oçº¿ç¨‹é…ç½®
io-threads 8                    # å¯ç”¨8ä¸ªI/Oçº¿ç¨‹
io-threads-do-reads yes         # I/Oçº¿ç¨‹å¤„ç†è¯»å–
io-threads-do-writes yes        # I/Oçº¿ç¨‹å¤„ç†å†™å…¥
                </div>

                <h3>ğŸ†• æ–°æ•°æ®ç»“æ„æ”¯æŒ</h3>
                <div class="feature-grid">
                    <div class="feature-card">
                        <h5>ğŸ¯ Vector Set (Beta)</h5>
                        <p>ä¸“ä¸ºå‘é‡ç›¸ä¼¼æ€§æœç´¢è®¾è®¡ï¼Œæ”¯æŒAIåº”ç”¨åœºæ™¯</p>
                        <div class="code-block" data-lang="Python">
# Vector Setåº”ç”¨ç¤ºä¾‹
await redis_client.vs_add(
    f"fault_vectors:{vehicle_id}",
    fault_vector,
    metadata={"timestamp": time.time()}
)
                        </div>
                    </div>
                    <div class="feature-card">
                        <h5>ğŸ“„ åŸç”ŸJSONæ”¯æŒ</h5>
                        <p>å†…ç½®JSONæ•°æ®ç»“æ„ï¼Œæ”¯æŒJSONPathæŸ¥è¯¢</p>
                        <div class="code-block" data-lang="Python">
# JSONæ•°æ®ç»“æ„ä½¿ç”¨
await redis_client.json_set(
    f"vehicle:{vehicle_id}",
    "$.diagnosis_history",
    diagnosis_data
)
                        </div>
                    </div>
                    <div class="feature-card">
                        <h5>ğŸ“ˆ æ—¶é—´åºåˆ—ä¼˜åŒ–</h5>
                        <p>é«˜æ•ˆçš„æ—¶åºæ•°æ®å‹ç¼©å’ŒæŸ¥è¯¢èƒ½åŠ›</p>
                    </div>
                    <div class="feature-card">
                        <h5>ğŸ² æ¦‚ç‡æ•°æ®ç»“æ„</h5>
                        <p>Bloom Filterã€Count-Min Sketchç­‰5ç§æ¦‚ç‡ç»“æ„</p>
                    </div>
                </div>

                <h3>ğŸ”„ å¤åˆ¶æœºåˆ¶ä¼˜åŒ–</h3>
                <div class="mermaid">
                    graph LR
                        subgraph "Redis 8.0 åŒæµå¤åˆ¶"
                            M[ä¸»èŠ‚ç‚¹] -->|æ•°æ®æµ| S1[ä»èŠ‚ç‚¹]
                            M -->|å¢é‡æµ| S2[ä»èŠ‚ç‚¹ç¼“å†²åŒº]
                            S2 --> S1
                        end
                        
                        subgraph "ä¼ ç»Ÿå¤åˆ¶"
                            M2[ä¸»èŠ‚ç‚¹] -->|é˜»å¡å¤åˆ¶| S3[ä»èŠ‚ç‚¹]
                        end
                </div>

                <p><strong>åŒæµå¤åˆ¶ä¼˜åŠ¿ï¼š</strong></p>
                <ul>
                    <li>ä¸»èŠ‚ç‚¹å†™å…¥æ€§èƒ½æå‡7.5%</li>
                    <li>å¤åˆ¶æ—¶é—´ç¼©çŸ­18%</li>
                    <li>ç¼“å†²åŒºå†…å­˜ä½¿ç”¨å‡å°‘35%</li>
                    <li>æ”¯æŒæ›´é«˜çš„å†™å…¥å¹¶å‘</li>
                </ul>
            </div>
        </section>

        <!-- æ‰©å±•ä¼˜åŒ–æ–¹æ¡ˆ -->
        <section id="optimization" class="section">
            <div class="section-header">
                ğŸ”§ é¡¹ç›®æ‰©å±•ä¼˜åŒ–æ–¹æ¡ˆ
            </div>
            <div class="section-content">
                <h3>ğŸ¯ çŸ­æœŸä¼˜åŒ–ç›®æ ‡ï¼ˆ1-3ä¸ªæœˆï¼‰</h3>
                <div class="timeline">
                    <div class="timeline-item">
                        <h4>ğŸš€ å‡çº§Redis 8.0</h4>
                        <p>å¯ç”¨å¤šçº¿ç¨‹I/Oï¼Œé¢„æœŸæ€§èƒ½æå‡50-100%</p>
                        <div class="code-block" data-lang="Bash">
# å‡çº§å‘½ä»¤
docker pull redis:8.0
# é…ç½®å¤šçº¿ç¨‹I/O
echo "io-threads 8" >> redis.conf
                        </div>
                    </div>
                    <div class="timeline-item">
                        <h4>âš¡ åŠ¨æ€æ‰¹å¤„ç†ä¼˜åŒ–</h4>
                        <p>æ ¹æ®ç³»ç»Ÿè´Ÿè½½åŠ¨æ€è°ƒæ•´æ‰¹å¤„ç†å¤§å°</p>
                        <div class="code-block" data-lang="Python">
def get_dynamic_batch_size(self):
    """åŠ¨æ€æ‰¹å¤„ç†å¤§å°"""
    current_load = self.get_system_load()
    if current_load > 0.8:
        return min(self.max_batch_size * 2, 200)
    elif current_load < 0.3:
        return max(self.max_batch_size // 2, 10)
    return self.max_batch_size
                        </div>
                    </div>
                    <div class="timeline-item">
                        <h4>ğŸª æ¶ˆè´¹è€…è´Ÿè½½å‡è¡¡</h4>
                        <p>å®ç°åŸºäºæ¶ˆæ¯ç§¯å‹çš„è‡ªåŠ¨æ‰©ç¼©å®¹</p>
                    </div>
                </div>

                <h3>ğŸŒŸ ä¸­æœŸè§„åˆ’ï¼ˆ3-6ä¸ªæœˆï¼‰</h3>
                <div class="feature-grid">
                    <div class="feature-card">
                        <h5>ğŸ§  AIé©±åŠ¨ä¼˜åŒ–</h5>
                        <p>é›†æˆæœºå™¨å­¦ä¹ æ¨¡å‹ä¼˜åŒ–é‡‡æ ·ç­–ç•¥å’Œæ•…éšœé¢„æµ‹</p>
                        <div class="code-block" data-lang="Python">
# AIä¼˜åŒ–é‡‡æ ·ç‡
class AIOptimizedSampler:
    def __init__(self):
        self.model = load_ml_model('sampling_optimizer.pkl')
    
    def get_optimal_rate(self, vehicle_data):
        features = extract_features(vehicle_data)
        return self.model.predict([features])[0]
                        </div>
                    </div>
                    <div class="feature-card">
                        <h5>ğŸ¯ Vector Seté›†æˆ</h5>
                        <p>ä½¿ç”¨Redis 8.0 Vector Setè¿›è¡Œæ•…éšœæ¨¡å¼è¯†åˆ«</p>
                        <div class="code-block" data-lang="Python">
# æ•…éšœå‘é‡ç›¸ä¼¼æ€§æœç´¢
similar_faults = await redis_client.vs_search(
    "fault_patterns",
    query_vector,
    k=10,
    return_fields=["fault_type", "confidence"]
)
                        </div>
                    </div>
                    <div class="feature-card">
                        <h5>ğŸ“Š å¤šçº§ç¼“å­˜ä½“ç³»</h5>
                        <p>æ„å»ºL1/L2/L3å¤šçº§ç¼“å­˜ï¼Œæå‡æŸ¥è¯¢æ€§èƒ½</p>
                    </div>
                    <div class="feature-card">
                        <h5>ğŸ”„ è‡ªé€‚åº”é‡è¯•</h5>
                        <p>åŸºäºç½‘ç»œçŠ¶å†µå’Œé”™è¯¯ç±»å‹çš„æ™ºèƒ½é‡è¯•ç­–ç•¥</p>
                    </div>
                </div>

                <h3>ğŸš€ é•¿æœŸæ„¿æ™¯ï¼ˆ6-12ä¸ªæœˆï¼‰</h3>
                <div class="highlight-box">
                    <strong>åˆ†å¸ƒå¼å¤šæ•°æ®ä¸­å¿ƒæ¶æ„ï¼š</strong>
                    <ul>
                        <li><strong>åœ°ç†åˆ†å¸ƒï¼š</strong>å¤šä¸ªæ•°æ®ä¸­å¿ƒéƒ¨ç½²ï¼Œå°±è¿‘æœåŠ¡</li>
                        <li><strong>æ•°æ®åŒæ­¥ï¼š</strong>è·¨æ•°æ®ä¸­å¿ƒçš„Streamå¤åˆ¶</li>
                        <li><strong>æ•…éšœåˆ‡æ¢ï¼š</strong>è‡ªåŠ¨æ•…éšœæ£€æµ‹å’Œæµé‡åˆ‡æ¢</li>
                        <li><strong>è¾¹ç¼˜è®¡ç®—ï¼š</strong>è½¦è¾†ç«¯è½»é‡çº§Rediså®ä¾‹</li>
                    </ul>
                </div>

                <div class="mermaid">
                    graph TB
                        subgraph "æ•°æ®ä¸­å¿ƒA"
                            RA[Redis Cluster A]
                            CA[æ¶ˆè´¹è€…ç»„ A]
                        end
                        
                        subgraph "æ•°æ®ä¸­å¿ƒB"
                            RB[Redis Cluster B]
                            CB[æ¶ˆè´¹è€…ç»„ B]
                        end
                        
                        subgraph "è¾¹ç¼˜èŠ‚ç‚¹"
                            E1[è½¦è¾†è¾¹ç¼˜1]
                            E2[è½¦è¾†è¾¹ç¼˜2]
                        end
                        
                        E1 --> RA
                        E2 --> RB
                        RA <-->|è·¨æ•°æ®ä¸­å¿ƒå¤åˆ¶| RB
                        CA --> RA
                        CB --> RB
                </div>

                <h3>ğŸ“ˆ æ€§èƒ½åŸºå‡†æµ‹è¯•</h3>
                <table class="comparison-table">
                    <thead>
                        <tr>
                            <th>æŒ‡æ ‡</th>
                            <th>å½“å‰ç‰ˆæœ¬</th>
                            <th>Redis 8.0ä¼˜åŒ–å</th>
                            <th>å®Œæ•´ä¼˜åŒ–å</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>æ¶ˆæ¯ååé‡</td>
                            <td>10,000 msg/s</td>
                            <td>20,000 msg/s</td>
                            <td>50,000 msg/s</td>
                        </tr>
                        <tr>
                            <td>å¤„ç†å»¶è¿Ÿ(P99)</td>
                            <td>100ms</td>
                            <td>50ms</td>
                            <td>20ms</td>
                        </tr>
                        <tr>
                            <td>å†…å­˜ä½¿ç”¨æ•ˆç‡</td>
                            <td>åŸºå‡†</td>
                            <td>-35%</td>
                            <td>-50%</td>
                        </tr>
                        <tr>
                            <td>æ•…éšœæ¢å¤æ—¶é—´</td>
                            <td>30s</td>
                            <td>15s</td>
                            <td>5s</td>
                        </tr>
                        <tr>
                            <td>å¹¶å‘è½¦è¾†æ•°</td>
                            <td>1,000</td>
                            <td>5,000</td>
                            <td>50,000</td>
                        </tr>
                    </tbody>
                </table>

                <h3>ğŸ’¡ æœ€ä½³å®è·µå»ºè®®</h3>
                <div class="feature-grid">
                    <div class="feature-card">
                        <h5>ğŸ” ç›‘æ§å‘Šè­¦</h5>
                        <p>å»ºç«‹å…¨é¢çš„æ€§èƒ½ç›‘æ§å’Œå‘Šè­¦ä½“ç³»</p>
                        <ul>
                            <li>Streamé•¿åº¦ç›‘æ§</li>
                            <li>æ¶ˆè´¹è€…å»¶è¿Ÿå‘Šè­¦</li>
                            <li>å†…å­˜ä½¿ç”¨ç‡ç›‘æ§</li>
                            <li>é”™è¯¯ç‡ç»Ÿè®¡</li>
                        </ul>
                    </div>
                    <div class="feature-card">
                        <h5>ğŸ§ª å‹åŠ›æµ‹è¯•</h5>
                        <p>å®šæœŸè¿›è¡Œå‹åŠ›æµ‹è¯•éªŒè¯ç³»ç»Ÿå®¹é‡</p>
                        <ul>
                            <li>æ¶ˆæ¯çªå‘æµ‹è¯•</li>
                            <li>æ¶ˆè´¹è€…æ•…éšœæµ‹è¯•</li>
                            <li>ç½‘ç»œåˆ†åŒºæµ‹è¯•</li>
                            <li>é•¿æœŸç¨³å®šæ€§æµ‹è¯•</li>
                        </ul>
                    </div>
                    <div class="feature-card">
                        <h5>ğŸ“š æ–‡æ¡£ç»´æŠ¤</h5>
                        <p>ä¿æŒæŠ€æœ¯æ–‡æ¡£å’Œè¿ç»´æ‰‹å†Œçš„æ›´æ–°</p>
                        <ul>
                            <li>æ¶æ„è®¾è®¡æ–‡æ¡£</li>
                            <li>æ•…éšœæ’æŸ¥æ‰‹å†Œ</li>
                            <li>æ€§èƒ½è°ƒä¼˜æŒ‡å—</li>
                            <li>å‡çº§æ“ä½œæ‰‹å†Œ</li>
                        </ul>
                    </div>
                    <div class="feature-card">
                        <h5>ğŸ“ å›¢é˜ŸåŸ¹è®­</h5>
                        <p>æå‡å›¢é˜Ÿå¯¹Redis Streamçš„ç†è§£å’Œè¿ç»´èƒ½åŠ›</p>
                        <ul>
                            <li>Redis 8.0æ–°ç‰¹æ€§åŸ¹è®­</li>
                            <li>æ•…éšœå¤„ç†æ¼”ç»ƒ</li>
                            <li>æ€§èƒ½ä¼˜åŒ–å®è·µ</li>
                            <li>æœ€ä½³å®è·µåˆ†äº«</li>
                        </ul>
                    </div>
                </div>
            </div>
        </section>

        <!-- é¡µè„š -->
        <footer class="footer">
            <h3>ğŸ¯ æŠ€æœ¯æ ˆæ€»ç»“</h3>
            <div class="tech-stack">
                <span class="tech-item">Redis 8.0</span>
                <span class="tech-item">Redis Stream</span>
                <span class="tech-item">Python AsyncIO</span>
                <span class="tech-item">æ¶ˆè´¹è€…ç»„</span>
                <span class="tech-item">åˆ†å¸ƒå¼æ¶æ„</span>
                <span class="tech-item">è½¦è”ç½‘IoT</span>
                <span class="tech-item">å®æ—¶è¯Šæ–­</span>
                <span class="tech-item">é«˜æ€§èƒ½ç¼“å­˜</span>
            </div>
            <p style="margin-top: 30px; color: var(--text-secondary);">
                ğŸ“… æ–‡æ¡£æ›´æ–°æ—¶é—´ï¼š2025å¹´1æœˆ | ğŸš€ åŸºäºRedis 8.0æœ€æ–°ç‰¹æ€§ | ğŸ’¡ ç»“åˆé¡¹ç›®å®è·µç»éªŒ
            </p>
            <p style="color: var(--text-secondary);">
                ğŸ¯ æœ¬æ–‡æ¡£æ¶µç›–Redis Streamç†è®ºåŸºç¡€ã€è½¦è”ç½‘é¡¹ç›®å®è·µå’Œ2025å¹´æœ€æ–°æŠ€æœ¯è¶‹åŠ¿
            </p>
        </footer>
    </div>

    <!-- è¿”å›é¡¶éƒ¨æŒ‰é’® -->
    <div class="scroll-top" onclick="scrollToTop()">
        â†‘
    </div>

    <script>
        // åˆå§‹åŒ–Mermaid
        mermaid.initialize({
            startOnLoad: true,
            theme: 'default',
            themeVariables: {
                primaryColor: '#FF6B35',
                primaryTextColor: '#2C3E50',
                primaryBorderColor: '#004E89',
                lineColor: '#7F8C8D',
                secondaryColor: '#F8F9FA',
                tertiaryColor: '#E9ECEF'
            }
        });

        // è¿”å›é¡¶éƒ¨åŠŸèƒ½
        function scrollToTop() {
            window.scrollTo({
                top: 0,
                behavior: 'smooth'
            });
        }

        // æ˜¾ç¤º/éšè—è¿”å›é¡¶éƒ¨æŒ‰é’®
        window.addEventListener('scroll', function() {
            const scrollTop = document.querySelector('.scroll-top');
            if (window.pageYOffset > 300) {
                scrollTop.classList.add('visible');
            } else {
                scrollTop.classList.remove('visible');
            }
        });

        // å¹³æ»‘æ»šåŠ¨åˆ°é”šç‚¹
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const target = document.querySelector(this.getAttribute('href'));
                if (target) {
                    target.scrollIntoView({
                        behavior: 'smooth',
                        block: 'start'
                    });
                }
            });
        });

        // ä»£ç å—å¤åˆ¶åŠŸèƒ½
        document.querySelectorAll('.code-block').forEach(block => {
            const button = document.createElement('button');
            button.innerHTML = 'ğŸ“‹ å¤åˆ¶';
            button.style.cssText = `
                position: absolute;
                top: 10px;
                left: 15px;
                background: var(--success-color);
                color: white;
                border: none;
                padding: 5px 10px;
                border-radius: 5px;
                cursor: pointer;
                font-size: 0.8em;
                z-index: 10;
            `;
            
            button.addEventListener('click', () => {
                const text = block.textContent;
                navigator.clipboard.writeText(text).then(() => {
                    button.innerHTML = 'âœ… å·²å¤åˆ¶';
                    setTimeout(() => {
                        button.innerHTML = 'ğŸ“‹ å¤åˆ¶';
                    }, 2000);
                });
            });
            
            block.style.position = 'relative';
            block.appendChild(button);
        });

        // æ€§èƒ½æŒ‡æ ‡åŠ¨ç”»
        function animateMetrics() {
            const metrics = document.querySelectorAll('.metric-value');
            metrics.forEach(metric => {
                const finalValue = metric.textContent;
                const isNumber = !isNaN(parseFloat(finalValue));
                
                if (isNumber) {
                    const endValue = parseFloat(finalValue);
                    let startValue = 0;
                    const duration = 2000;
                    const stepTime = 50;
                    const steps = duration / stepTime;
                    const increment = endValue / steps;
                    
                    const timer = setInterval(() => {
                        startValue += increment;
                        if (startValue >= endValue) {
                            metric.textContent = finalValue;
                            clearInterval(timer);
                        } else {
                            metric.textContent = Math.floor(startValue) + (finalValue.includes('%') ? '%' : '');
                        }
                    }, stepTime);
                }
            });
        }

        // é¡µé¢åŠ è½½å®Œæˆåæ‰§è¡ŒåŠ¨ç”»
        window.addEventListener('load', () => {
            setTimeout(animateMetrics, 1000);
        });

        // æ·»åŠ äº¤äº’å¼ç‰¹æ•ˆ
        document.querySelectorAll('.feature-card, .timeline-item').forEach(card => {
            card.addEventListener('mouseenter', function() {
                this.style.transform = 'translateY(-5px) scale(1.02)';
            });
            
            card.addEventListener('mouseleave', function() {
                this.style.transform = 'translateY(0) scale(1)';
            });
        });
    </script>
</body>
</html> 