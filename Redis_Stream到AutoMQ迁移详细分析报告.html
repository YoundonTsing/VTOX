<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Redis Stream â†’ AutoMQ è¿ç§»è¯¦ç»†åˆ†ææŠ¥å‘Š</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', -apple-system, BlinkMacSystemFont, sans-serif;
            line-height: 1.6;
            color: #333;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
        }
        
        .container {
            max-width: 1400px;
            margin: 0 auto;
            background: white;
            box-shadow: 0 0 30px rgba(0,0,0,0.1);
            min-height: 100vh;
        }
        
        .header {
            background: linear-gradient(135deg, #2c3e50 0%, #34495e 100%);
            color: white;
            padding: 40px;
            text-align: center;
            position: relative;
            overflow: hidden;
        }
        
        .header::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><defs><pattern id="grain" width="100" height="100" patternUnits="userSpaceOnUse"><circle cx="25" cy="25" r="1" fill="rgba(255,255,255,0.1)"/><circle cx="75" cy="75" r="1" fill="rgba(255,255,255,0.1)"/><circle cx="50" cy="10" r="0.5" fill="rgba(255,255,255,0.05)"/></pattern></defs><rect width="100" height="100" fill="url(%23grain)"/></svg>');
            opacity: 0.3;
        }
        
        .header h1 {
            font-size: 2.5rem;
            margin-bottom: 10px;
            position: relative;
            z-index: 1;
        }
        
        .header .subtitle {
            font-size: 1.2rem;
            opacity: 0.9;
            position: relative;
            z-index: 1;
        }
        
        .content {
            padding: 40px;
        }
        
        .section {
            margin-bottom: 40px;
        }
        
        .section h2 {
            color: #2c3e50;
            font-size: 1.8rem;
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 3px solid #3498db;
            position: relative;
        }
        
        .section h2::after {
            content: '';
            position: absolute;
            bottom: -3px;
            left: 0;
            width: 50px;
            height: 3px;
            background: #e74c3c;
        }
        
        .section h3 {
            color: #34495e;
            font-size: 1.4rem;
            margin: 25px 0 15px 0;
        }
        
        .section h4 {
            color: #2980b9;
            font-size: 1.2rem;
            margin: 20px 0 10px 0;
        }
        
        .comparison-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
            margin: 20px 0;
        }
        
        .keep-unchanged, .major-changes {
            padding: 25px;
            border-radius: 10px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }
        
        .keep-unchanged {
            background: linear-gradient(135deg, #d5f4e6 0%, #c8e6c9 100%);
            border-left: 5px solid #27ae60;
        }
        
        .major-changes {
            background: linear-gradient(135deg, #ffebee 0%, #ffcdd2 100%);
            border-left: 5px solid #e74c3c;
        }
        
        .keep-unchanged h3 {
            color: #27ae60;
            margin-bottom: 15px;
        }
        
        .major-changes h3 {
            color: #e74c3c;
            margin-bottom: 15px;
        }
        
        .code-comparison {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin: 20px 0;
        }
        
        .code-block {
            background: #2c3e50;
            color: #ecf0f1;
            padding: 20px;
            border-radius: 8px;
            font-family: 'Consolas', 'Monaco', monospace;
            overflow-x: auto;
            position: relative;
            font-size: 0.9rem;
        }
        
        .code-block.redis {
            border-top: 4px solid #dc382d;
        }
        
        .code-block.automq {
            border-top: 4px solid #2ecc71;
        }
        
        .code-block::before {
            position: absolute;
            top: 5px;
            right: 10px;
            font-size: 0.8rem;
            opacity: 0.6;
            font-weight: bold;
        }
        
        .code-block.redis::before {
            content: 'Redis Stream';
            color: #dc382d;
        }
        
        .code-block.automq::before {
            content: 'AutoMQ';
            color: #2ecc71;
        }
        
        .migration-table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
            border-radius: 8px;
            overflow: hidden;
        }
        
        .migration-table th {
            background: linear-gradient(135deg, #3498db, #2980b9);
            color: white;
            padding: 15px 12px;
            text-align: left;
            font-weight: 600;
        }
        
        .migration-table td {
            padding: 12px;
            border-bottom: 1px solid #ecf0f1;
            vertical-align: top;
        }
        
        .migration-table tbody tr:nth-child(even) {
            background-color: #f8f9fa;
        }
        
        .migration-table tbody tr:hover {
            background-color: #e3f2fd;
        }
        
        .effort-low {
            background: #d5f4e6;
            color: #27ae60;
            padding: 4px 8px;
            border-radius: 4px;
            font-weight: bold;
            font-size: 0.9rem;
        }
        
        .effort-medium {
            background: #fff3cd;
            color: #856404;
            padding: 4px 8px;
            border-radius: 4px;
            font-weight: bold;
            font-size: 0.9rem;
        }
        
        .effort-high {
            background: #ffebee;
            color: #c62828;
            padding: 4px 8px;
            border-radius: 4px;
            font-weight: bold;
            font-size: 0.9rem;
        }
        
        .timeline-container {
            background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
            padding: 30px;
            border-radius: 10px;
            margin: 20px 0;
        }
        
        .timeline-item {
            display: flex;
            align-items: flex-start;
            margin: 20px 0;
            padding: 20px;
            background: white;
            border-radius: 8px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
            position: relative;
        }
        
        .timeline-week {
            background: linear-gradient(135deg, #3498db, #2980b9);
            color: white;
            min-width: 80px;
            height: 40px;
            border-radius: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            margin-right: 20px;
            flex-shrink: 0;
        }
        
        .timeline-content {
            flex: 1;
        }
        
        .timeline-content h4 {
            color: #2c3e50;
            margin-bottom: 10px;
        }
        
        .timeline-content .tasks {
            list-style: none;
            padding: 0;
        }
        
        .timeline-content .tasks li {
            padding: 5px 0;
            padding-left: 20px;
            position: relative;
        }
        
        .timeline-content .tasks li::before {
            content: 'â–¸';
            position: absolute;
            left: 0;
            color: #3498db;
            font-weight: bold;
        }
        
        .architecture-diagram {
            text-align: center;
            margin: 30px 0;
            padding: 20px;
            background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
            border-radius: 10px;
        }
        
        .highlight-box {
            background: linear-gradient(135deg, #fff3cd 0%, #ffeaa7 100%);
            border: 1px solid #ffc107;
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
        }
        
        .highlight-box h4 {
            color: #856404;
            margin-bottom: 10px;
        }
        
        .warning-box {
            background: linear-gradient(135deg, #ffebee 0%, #ffcdd2 100%);
            border: 2px solid #f44336;
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
        }
        
        .warning-box h4 {
            color: #c62828;
            margin-bottom: 10px;
        }
        
        .success-box {
            background: linear-gradient(135deg, #e8f5e8 0%, #c8e6c9 100%);
            border: 2px solid #4caf50;
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
        }
        
        .success-box h4 {
            color: #2e7d32;
            margin-bottom: 10px;
        }
        
        .component-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }
        
        .component-card {
            background: white;
            padding: 20px;
            border-radius: 10px;
            border: 1px solid #e0e0e0;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            transition: transform 0.2s ease;
        }
        
        .component-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 5px 20px rgba(0,0,0,0.15);
        }
        
        .component-card h4 {
            color: #2c3e50;
            margin-bottom: 15px;
            border-bottom: 2px solid #3498db;
            padding-bottom: 5px;
        }
        
        .footer {
            background: #2c3e50;
            color: white;
            text-align: center;
            padding: 30px;
            margin-top: 40px;
        }
        
        @media (max-width: 768px) {
            .comparison-grid, .code-comparison {
                grid-template-columns: 1fr;
            }
            
            .content {
                padding: 20px;
            }
            
            .header h1 {
                font-size: 2rem;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header class="header">
            <h1>Redis Stream â†’ AutoMQ è¿ç§»è¯¦ç»†åˆ†æ</h1>
            <p class="subtitle">è½¦è”ç½‘æ•…éšœè¯Šæ–­ç³»ç»Ÿæ¶æ„å‡çº§å®æ–½æ–¹æ¡ˆ</p>
        </header>

        <main class="content">
            <!-- è¿ç§»æ¦‚è§ˆ -->
            <section class="section">
                <h2>ğŸ¯ è¿ç§»æ¦‚è§ˆ</h2>
                
                <div class="highlight-box">
                    <h4>ğŸ“Š è¿ç§»å¤æ‚åº¦è¯„ä¼°</h4>
                    <ul>
                        <li><strong>æ€»ä½“å¤æ‚åº¦ï¼š</strong>ä¸­ç­‰ï¼ˆ60%ä»£ç ä¿æŒä¸å˜ï¼Œ40%éœ€è¦é€‚é…ï¼‰</li>
                        <li><strong>é¢„è®¡å·¥æœŸï¼š</strong>6-8å‘¨</li>
                        <li><strong>é£é™©ç­‰çº§ï¼š</strong>ä¸­ä½é£é™©ï¼ˆAutoMQå…¼å®¹Kafka APIï¼‰</li>
                        <li><strong>ä¸šåŠ¡ä¸­æ–­æ—¶é—´ï¼š</strong>é¢„è®¡2-4å°æ—¶ï¼ˆåˆ‡æ¢æœŸé—´ï¼‰</li>
                    </ul>
                </div>
                
                <div class="comparison-grid">
                    <div class="keep-unchanged">
                        <h3>âœ… ä¿æŒä¸å˜çš„éƒ¨åˆ† (60%)</h3>
                        <ul>
                            <li><strong>ä¸šåŠ¡é€»è¾‘å±‚ï¼š</strong>æ•…éšœåˆ†æç®—æ³•å®Œå…¨ä¸å˜</li>
                            <li><strong>æ•°æ®æ¨¡å‹ï¼š</strong>DiagnosisResultã€FaultTypeç­‰ä¿æŒåŸæ ·</li>
                            <li><strong>å‰ç«¯ç•Œé¢ï¼š</strong>WebSocketæ¥å£å’ŒUIæ— éœ€ä¿®æ”¹</li>
                            <li><strong>é…ç½®ç®¡ç†ï¼š</strong>å¤§éƒ¨åˆ†é…ç½®å‚æ•°ä¿æŒå…¼å®¹</li>
                            <li><strong>ç›‘æ§ç³»ç»Ÿï¼š</strong>æ€§èƒ½æŒ‡æ ‡é‡‡é›†é€»è¾‘ä¸å˜</li>
                            <li><strong>APIæ¥å£ï¼š</strong>REST APIä¿æŒå‘åå…¼å®¹</li>
                        </ul>
                    </div>
                    
                    <div class="major-changes">
                        <h3>ğŸ”„ éœ€è¦å¤§æ”¹çš„éƒ¨åˆ† (40%)</h3>
                        <ul>
                            <li><strong>æ¶ˆæ¯é˜Ÿåˆ—å®¢æˆ·ç«¯ï¼š</strong>ä»Rediså®¢æˆ·ç«¯æ”¹ä¸ºKafkaå®¢æˆ·ç«¯</li>
                            <li><strong>è¿æ¥ç®¡ç†ï¼š</strong>è¿æ¥å­—ç¬¦ä¸²å’Œè®¤è¯æ–¹å¼å˜æ›´</li>
                            <li><strong>æ¶ˆæ¯å‘å¸ƒï¼š</strong>XADD â†’ Kafka Producer</li>
                            <li><strong>æ¶ˆæ¯æ¶ˆè´¹ï¼š</strong>XREADGROUP â†’ Kafka Consumer</li>
                            <li><strong>åˆ†åŒºç­–ç•¥ï¼š</strong>ä»Streamæ”¹ä¸ºTopic+Partition</li>
                            <li><strong>æ¶ˆè´¹è€…ç»„ç®¡ç†ï¼š</strong>é€‚é…Kafka Consumer Group</li>
                        </ul>
                    </div>
                </div>
            </section>

            <!-- è¯¦ç»†ç»„ä»¶åˆ†æ -->
            <section class="section">
                <h2>ğŸ” è¯¦ç»†ç»„ä»¶è¿ç§»åˆ†æ</h2>
                
                <table class="migration-table">
                    <thead>
                        <tr>
                            <th>ç»„ä»¶/æ–‡ä»¶</th>
                            <th>å½“å‰å®ç°</th>
                            <th>è¿ç§»å¤æ‚åº¦</th>
                            <th>ä¸»è¦å˜æ›´</th>
                            <th>ä¿æŒä¸å˜</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><strong>DistributedDiagnosisStream</strong></td>
                            <td>Redis Streamæ ¸å¿ƒ</td>
                            <td><span class="effort-high">é«˜</span></td>
                            <td>
                                â€¢ å®¢æˆ·ç«¯ä»redis-pyæ”¹ä¸ºkafka-python<br>
                                â€¢ è¿æ¥ç®¡ç†å®Œå…¨é‡å†™<br>
                                â€¢ æ¶ˆæ¯å‘å¸ƒ/æ¶ˆè´¹æ¥å£æ”¹å†™
                            </td>
                            <td>
                                â€¢ æ•…éšœåˆ†æå™¨å®ä¾‹<br>
                                â€¢ ä¸šåŠ¡é€»è¾‘å’Œç®—æ³•<br>
                                â€¢ æ•°æ®ç»“æ„å®šä¹‰
                            </td>
                        </tr>
                        <tr>
                            <td><strong>StreamManager</strong></td>
                            <td>Redis Streamç®¡ç†å™¨</td>
                            <td><span class="effort-medium">ä¸­</span></td>
                            <td>
                                â€¢ åˆå§‹åŒ–æ–¹æ³•é€‚é…AutoMQ<br>
                                â€¢ è¿æ¥å­—ç¬¦ä¸²æ ¼å¼å˜æ›´<br>
                                â€¢ å¥åº·æ£€æŸ¥æœºåˆ¶è°ƒæ•´
                            </td>
                            <td>
                                â€¢ å…¬å…±APIæ¥å£<br>
                                â€¢ é”™è¯¯å¤„ç†é€»è¾‘<br>
                                â€¢ ç»Ÿè®¡ä¿¡æ¯æ”¶é›†
                            </td>
                        </tr>
                        <tr>
                            <td><strong>StreamCacheOptimizer</strong></td>
                            <td>Redisç¼“å­˜ä¼˜åŒ–å™¨</td>
                            <td><span class="effort-high">é«˜</span></td>
                            <td>
                                â€¢ æ¶ˆæ¯è¯»å–ä»XREADGROUPæ”¹ä¸ºpoll()<br>
                                â€¢ æ‰¹å¤„ç†æœºåˆ¶é‡æ„<br>
                                â€¢ ç¼“å­˜ç­–ç•¥è°ƒæ•´
                            </td>
                            <td>
                                â€¢ æ™ºèƒ½é™é‡‡æ ·ç®—æ³•<br>
                                â€¢ æ€§èƒ½ç»Ÿè®¡é€»è¾‘<br>
                                â€¢ å‰ç«¯æ¨é€æœºåˆ¶
                            </td>
                        </tr>
                        <tr>
                            <td><strong>StreamToFrontendBridge</strong></td>
                            <td>å‰ç«¯æ¡¥æ¥ç»„ä»¶</td>
                            <td><span class="effort-medium">ä¸­</span></td>
                            <td>
                                â€¢ æ¶ˆè´¹è€…å®ç°é‡å†™<br>
                                â€¢ æ¶ˆæ¯ç¡®è®¤æœºåˆ¶å˜æ›´<br>
                                â€¢ é”™è¯¯å¤„ç†é€‚é…
                            </td>
                            <td>
                                â€¢ WebSocketæ¨é€é€»è¾‘<br>
                                â€¢ æ•°æ®æ ¼å¼è½¬æ¢<br>
                                â€¢ å‰ç«¯APIæ¥å£
                            </td>
                        </tr>
                        <tr>
                            <td><strong>StreamMaintenanceManager</strong></td>
                            <td>Redis Streamç»´æŠ¤</td>
                            <td><span class="effort-low">ä½</span></td>
                            <td>
                                â€¢ æ”¹ä¸ºKafka Topicæ¸…ç†<br>
                                â€¢ ä½¿ç”¨Kafka Admin API<br>
                                â€¢ æ¸…ç†ç­–ç•¥è°ƒæ•´
                            </td>
                            <td>
                                â€¢ å®šæ—¶ä»»åŠ¡æ¡†æ¶<br>
                                â€¢ é…ç½®ç®¡ç†<br>
                                â€¢ ç»Ÿè®¡ä¿¡æ¯æ ¼å¼
                            </td>
                        </tr>
                        <tr>
                            <td><strong>AdaptiveConsumerManager</strong></td>
                            <td>è‡ªé€‚åº”æ¶ˆè´¹è€…ç®¡ç†</td>
                            <td><span class="effort-medium">ä¸­</span></td>
                            <td>
                                â€¢ æ¶ˆè´¹è€…æ‰©å±•APIé€‚é…<br>
                                â€¢ è´Ÿè½½ç›‘æ§æŒ‡æ ‡è°ƒæ•´<br>
                                â€¢ åˆ†åŒºé‡å¹³è¡¡å¤„ç†
                            </td>
                            <td>
                                â€¢ æ™ºèƒ½å†³ç­–å¼•æ“<br>
                                â€¢ ç›‘æ§å’Œå‘Šè­¦é€»è¾‘<br>
                                â€¢ é…ç½®ç®¡ç†æ¡†æ¶
                            </td>
                        </tr>
                        <tr>
                            <td><strong>ä¸šåŠ¡åˆ†æå™¨</strong></td>
                            <td>æ•…éšœè¯Šæ–­ç®—æ³•</td>
                            <td><span class="effort-low">ä½</span></td>
                            <td>
                                â€¢ æ— éœ€ä¿®æ”¹
                            </td>
                            <td>
                                â€¢ TurnFaultAnalyzer<br>
                                â€¢ BearingAnalyzer<br>
                                â€¢ æ‰€æœ‰åˆ†æç®—æ³•
                            </td>
                        </tr>
                        <tr>
                            <td><strong>å‰ç«¯ç»„ä»¶</strong></td>
                            <td>Vue.js + WebSocket</td>
                            <td><span class="effort-low">ä½</span></td>
                            <td>
                                â€¢ æ— éœ€ä¿®æ”¹
                            </td>
                            <td>
                                â€¢ æ‰€æœ‰å‰ç«¯ç•Œé¢<br>
                                â€¢ WebSocketè¿æ¥<br>
                                â€¢ å›¾è¡¨å’Œå¯è§†åŒ–
                            </td>
                        </tr>
                        <tr>
                            <td><strong>REST API</strong></td>
                            <td>FastAPIè·¯ç”±</td>
                            <td><span class="effort-low">ä½</span></td>
                            <td>
                                â€¢ é…ç½®å‚æ•°è°ƒæ•´<br>
                                â€¢ å¥åº·æ£€æŸ¥æ›´æ–°
                            </td>
                            <td>
                                â€¢ APIæ¥å£å®šä¹‰<br>
                                â€¢ è¯·æ±‚å“åº”æ ¼å¼<br>
                                â€¢ è®¤è¯å’Œæƒé™
                            </td>
                        </tr>
                    </tbody>
                </table>
            </section>

            <!-- æ ¸å¿ƒä»£ç å¯¹æ¯” -->
            <section class="section">
                <h2>ğŸ’» æ ¸å¿ƒä»£ç è¿ç§»å¯¹æ¯”</h2>
                
                <h3>1. è¿æ¥å’Œåˆå§‹åŒ–</h3>
                <div class="code-comparison">
                    <div class="code-block redis">
# Redis Stream å½“å‰å®ç°
import redis.asyncio as redis

class DistributedDiagnosisStream:
    def __init__(self, redis_url="redis://localhost:6379"):
        self.redis_url = redis_url
        self.redis_client = None
        
    async def connect(self):
        self.redis_client = redis.from_url(
            self.redis_url,
            decode_responses=True,
            retry_on_timeout=True,
            health_check_interval=30
        )
        await self.redis_client.ping()
        await self._initialize_streams()
        
    async def _initialize_streams(self):
        # åˆ›å»ºæ¶ˆè´¹è€…ç»„
        for fault_type, group_name in self.consumer_groups.items():
            await self.redis_client.xgroup_create(
                self.streams["raw_data"], 
                group_name, 
                id="0", 
                mkstream=True
            )
                    </div>
                    
                    <div class="code-block automq">
# AutoMQ è¿ç§»åå®ç°
from kafka import KafkaProducer, KafkaConsumer, KafkaAdminClient
from kafka.admin import ConfigResource, ConfigResourceType

class DistributedDiagnosisStream:
    def __init__(self, bootstrap_servers="localhost:9092"):
        self.bootstrap_servers = bootstrap_servers
        self.producer = None
        self.admin_client = None
        
    async def connect(self):
        self.producer = KafkaProducer(
            bootstrap_servers=self.bootstrap_servers,
            value_serializer=lambda x: json.dumps(x).encode('utf-8'),
            key_serializer=lambda x: x.encode('utf-8'),
            acks='all',  # ç¡®ä¿æ•°æ®å®‰å…¨
            retries=3
        )
        self.admin_client = KafkaAdminClient(
            bootstrap_servers=self.bootstrap_servers
        )
        await self._initialize_topics()
        
    async def _initialize_topics(self):
        # åˆ›å»ºTopics
        from kafka.admin import NewTopic
        topics = [
            NewTopic(name=topic, num_partitions=3, replication_factor=1)
            for topic in self.topics.values()
        ]
        self.admin_client.create_topics(topics, validate_only=False)
                    </div>
                </div>
                
                <h3>2. æ¶ˆæ¯å‘å¸ƒ</h3>
                <div class="code-comparison">
                    <div class="code-block redis">
# Redis Stream æ¶ˆæ¯å‘å¸ƒ
async def publish_motor_data(self, vehicle_id: str, 
                           sensor_data: Dict[str, Any], 
                           metadata: Dict[str, Any] = None) -> bool:
    try:
        message = {
            "vehicle_id": vehicle_id,
            "timestamp": datetime.now().isoformat(),
            "sensor_data": json.dumps(sensor_data),
            "metadata": json.dumps(metadata or {}),
            "data_type": "motor_sensor_data"
        }
        
        # ä½¿ç”¨ XADD å‘å¸ƒåˆ° Redis Stream
        message_id = await self.redis_client.xadd(
            self.streams["raw_data"],
            message,
            maxlen=50000
        )
        
        logger.debug(f"ğŸ“¤ å‘å¸ƒç”µæœºæ•°æ®: {message_id}")
        return True
        
    except Exception as e:
        logger.error(f"âŒ å‘å¸ƒå¤±è´¥: {e}")
        return False
                    </div>
                    
                    <div class="code-block automq">
# AutoMQ æ¶ˆæ¯å‘å¸ƒ
async def publish_motor_data(self, vehicle_id: str, 
                           sensor_data: Dict[str, Any], 
                           metadata: Dict[str, Any] = None) -> bool:
    try:
        message = {
            "vehicle_id": vehicle_id,
            "timestamp": datetime.now().isoformat(),
            "sensor_data": sensor_data,  # ç›´æ¥ä¼ é€’ï¼Œæ— éœ€JSONåºåˆ—åŒ–
            "metadata": metadata or {},
            "data_type": "motor_sensor_data"
        }
        
        # ä½¿ç”¨ Kafka Producer å‘å¸ƒ
        future = self.producer.send(
            self.topics["raw_data"],
            key=vehicle_id,  # ä½¿ç”¨vehicle_idä½œä¸ºåˆ†åŒºé”®
            value=message,
            headers=[('source', b'vehicle_sensor')]
        )
        
        # å¼‚æ­¥è·å–ç»“æœ
        record_metadata = future.get(timeout=10)
        logger.debug(f"ğŸ“¤ å‘å¸ƒç”µæœºæ•°æ®: {record_metadata}")
        return True
        
    except Exception as e:
        logger.error(f"âŒ å‘å¸ƒå¤±è´¥: {e}")
        return False
                    </div>
                </div>
                
                <h3>3. æ¶ˆæ¯æ¶ˆè´¹</h3>
                <div class="code-comparison">
                    <div class="code-block redis">
# Redis Stream æ¶ˆæ¯æ¶ˆè´¹
async def start_fault_diagnosis_consumer(self, fault_type: FaultType, 
                                       consumer_id: str) -> None:
    group_name = self.consumer_groups[fault_type.value]
    
    while self.is_running:
        try:
            # ä½¿ç”¨ XREADGROUP è¯»å–æ¶ˆæ¯
            messages = await self.redis_client.xreadgroup(
                group_name,
                consumer_id,
                {self.streams["raw_data"]: ">"},
                count=10,
                block=1000
            )
            
            for stream, msgs in messages:
                for message_id, fields in msgs:
                    # å¤„ç†æ¶ˆæ¯
                    result = await self._process_message(fields, fault_type)
                    
                    if result:
                        # å‘å¸ƒç»“æœ
                        await self.redis_client.xadd(
                            self.streams["fault_results"],
                            result
                        )
                    
                    # ç¡®è®¤æ¶ˆæ¯
                    await self.redis_client.xack(
                        stream, group_name, message_id
                    )
                    
        except Exception as e:
            logger.error(f"âŒ æ¶ˆè´¹å¤±è´¥: {e}")
                    </div>
                    
                    <div class="code-block automq">
# AutoMQ æ¶ˆæ¯æ¶ˆè´¹
async def start_fault_diagnosis_consumer(self, fault_type: FaultType, 
                                       consumer_id: str) -> None:
    group_name = self.consumer_groups[fault_type.value]
    
    consumer = KafkaConsumer(
        self.topics["raw_data"],
        bootstrap_servers=self.bootstrap_servers,
        group_id=group_name,
        client_id=consumer_id,
        value_deserializer=lambda x: json.loads(x.decode('utf-8')),
        key_deserializer=lambda x: x.decode('utf-8'),
        enable_auto_commit=False,  # æ‰‹åŠ¨æäº¤
        max_poll_records=10
    )
    
    while self.is_running:
        try:
            # ä½¿ç”¨ poll è¯»å–æ¶ˆæ¯
            message_batch = consumer.poll(timeout_ms=1000)
            
            for topic_partition, messages in message_batch.items():
                for message in messages:
                    # å¤„ç†æ¶ˆæ¯
                    result = await self._process_message(
                        message.value, fault_type
                    )
                    
                    if result:
                        # å‘å¸ƒç»“æœ
                        self.producer.send(
                            self.topics["fault_results"],
                            key=message.key,
                            value=result
                        )
                    
                    # æ‰‹åŠ¨æäº¤offset
                    consumer.commit_async()
                    
        except Exception as e:
            logger.error(f"âŒ æ¶ˆè´¹å¤±è´¥: {e}")
                    </div>
                </div>
                
                <h3>4. ç¼“å­˜ä¼˜åŒ–å™¨é€‚é…</h3>
                <div class="code-comparison">
                    <div class="code-block redis">
# Redis Stream ç¼“å­˜ä¼˜åŒ–
async def _optimized_message_receiver(self):
    consumer_id = "cache_optimizer_receiver"
    
    while self.is_running:
        try:
            # å¤§æ‰¹é‡è¯»å–æ¶ˆæ¯
            messages = await self.redis_client.xreadgroup(
                "optimized_fault_group",
                consumer_id,
                {
                    "fault_diagnosis_results": ">",
                    "vehicle_health_assessments": ">"
                },
                count=50,
                block=500
            )
            
            for stream, msgs in messages:
                for message_id, fields in msgs:
                    # æ™ºèƒ½è¿‡æ»¤å’Œé‡‡æ ·
                    if await self._should_process_message(fields):
                        await self.processing_queue.put(
                            (stream, message_id, fields)
                        )
                    
                    # ç¡®è®¤æ¶ˆæ¯å¤„ç†
                    await self.redis_client.xack(
                        stream, "optimized_fault_group", message_id
                    )
                    
        except Exception as e:
            logger.error(f"âŒ ä¼˜åŒ–æ¥æ”¶å¤±è´¥: {e}")
                    </div>
                    
                    <div class="code-block automq">
# AutoMQ ç¼“å­˜ä¼˜åŒ–
async def _optimized_message_receiver(self):
    consumer = KafkaConsumer(
        self.topics["fault_results"],
        self.topics["health_assessments"],
        bootstrap_servers=self.bootstrap_servers,
        group_id="optimized_fault_group",
        client_id="cache_optimizer_receiver",
        value_deserializer=lambda x: json.loads(x.decode('utf-8')),
        enable_auto_commit=False,
        max_poll_records=50,  # æ‰¹é‡å¤„ç†
        fetch_min_bytes=1024,  # æœ€å°æ‰¹æ¬¡å¤§å°
        fetch_max_wait_ms=500  # æœ€å¤§ç­‰å¾…æ—¶é—´
    )
    
    while self.is_running:
        try:
            # æ‰¹é‡æ‹‰å–æ¶ˆæ¯
            message_batch = consumer.poll(timeout_ms=500)
            
            for topic_partition, messages in message_batch.items():
                for message in messages:
                    # æ™ºèƒ½è¿‡æ»¤å’Œé‡‡æ ·
                    if await self._should_process_message(message.value):
                        await self.processing_queue.put(
                            (message.topic, message.offset, message.value)
                        )
                
                # æ‰¹é‡æäº¤offset
                consumer.commit_async()
                    
        except Exception as e:
            logger.error(f"âŒ ä¼˜åŒ–æ¥æ”¶å¤±è´¥: {e}")
                    </div>
                </div>
            </section>

            <!-- é…ç½®æ–‡ä»¶å˜æ›´ -->
            <section class="section">
                <h2>âš™ï¸ é…ç½®æ–‡ä»¶å˜æ›´å¯¹æ¯”</h2>
                
                <div class="code-comparison">
                    <div class="code-block redis">
# å½“å‰ Redis Stream é…ç½®
# backend/app/core/config.py
REDIS_URL = "redis://localhost:6379"
REDIS_DECODE_RESPONSES = True
REDIS_RETRY_ON_TIMEOUT = True
REDIS_HEALTH_CHECK_INTERVAL = 30

# Stream é…ç½®
REDIS_STREAM_MAX_LEN = 50000
REDIS_CONSUMER_BLOCK_TIME = 1000
REDIS_CONSUMER_COUNT = 10

# ç»´æŠ¤é…ç½®
STREAM_MAINTENANCE_ENABLED = True
STREAM_MAINTENANCE_INTERVAL = 300
STREAM_DEFAULT_MAX_LENGTH = 10000
                    </div>
                    
                    <div class="code-block automq">
# AutoMQ é…ç½®
# backend/app/core/config.py
AUTOMQ_BOOTSTRAP_SERVERS = "localhost:9092"
AUTOMQ_SECURITY_PROTOCOL = "SASL_SSL"
AUTOMQ_SASL_MECHANISM = "PLAIN"
AUTOMQ_SASL_USERNAME = "your_username"
AUTOMQ_SASL_PASSWORD = "your_password"

# Producer é…ç½®
KAFKA_PRODUCER_ACKS = "all"
KAFKA_PRODUCER_RETRIES = 3
KAFKA_PRODUCER_BATCH_SIZE = 16384
KAFKA_PRODUCER_LINGER_MS = 10

# Consumer é…ç½®
KAFKA_CONSUMER_MAX_POLL_RECORDS = 10
KAFKA_CONSUMER_FETCH_MIN_BYTES = 1024
KAFKA_CONSUMER_FETCH_MAX_WAIT_MS = 500
KAFKA_CONSUMER_SESSION_TIMEOUT_MS = 30000

# Topic é…ç½®
KAFKA_TOPIC_PARTITIONS = 3
KAFKA_TOPIC_REPLICATION_FACTOR = 1
KAFKA_TOPIC_RETENTION_MS = 604800000  # 7å¤©
                    </div>
                </div>
            </section>

            <!-- è¿ç§»æ—¶é—´çº¿ -->
            <section class="section">
                <h2>ğŸ“… è¯¦ç»†è¿ç§»æ—¶é—´çº¿</h2>
                
                <div class="timeline-container">
                    <div class="timeline-item">
                        <div class="timeline-week">ç¬¬1å‘¨</div>
                        <div class="timeline-content">
                            <h4>ğŸ› ï¸ ç¯å¢ƒå‡†å¤‡å’ŒåŸºç¡€è®¾æ–½</h4>
                            <ul class="tasks">
                                <li>æ­å»ºAutoMQæµ‹è¯•é›†ç¾¤</li>
                                <li>é…ç½®ç½‘ç»œå’Œå®‰å…¨ç­–ç•¥</li>
                                <li>å®‰è£…kafka-pythonä¾èµ–</li>
                                <li>åˆ›å»ºTopicå’Œåˆ†åŒºç­–ç•¥</li>
                                <li>å»ºç«‹ç›‘æ§å’Œæ—¥å¿—ç³»ç»Ÿ</li>
                            </ul>
                            <p><strong>äº¤ä»˜ç‰©ï¼š</strong>AutoMQæµ‹è¯•ç¯å¢ƒã€åŸºç¡€ç›‘æ§</p>
                        </div>
                    </div>
                    
                    <div class="timeline-item">
                        <div class="timeline-week">ç¬¬2å‘¨</div>
                        <div class="timeline-content">
                            <h4>ğŸ”§ æ ¸å¿ƒç»„ä»¶é‡æ„</h4>
                            <ul class="tasks">
                                <li>é‡å†™DistributedDiagnosisStreamç±»</li>
                                <li>é€‚é…StreamManagerè¿æ¥ç®¡ç†</li>
                                <li>å®ç°æ¶ˆæ¯å‘å¸ƒå’Œæ¶ˆè´¹æ¥å£</li>
                                <li>å¼€å‘æ¶ˆæ¯é€‚é…å™¨å±‚</li>
                                <li>å•å…ƒæµ‹è¯•å’Œé›†æˆæµ‹è¯•</li>
                            </ul>
                            <p><strong>äº¤ä»˜ç‰©ï¼š</strong>æ ¸å¿ƒç»„ä»¶ä»£ç ã€åŸºç¡€æµ‹è¯•ç”¨ä¾‹</p>
                        </div>
                    </div>
                    
                    <div class="timeline-item">
                        <div class="timeline-week">ç¬¬3å‘¨</div>
                        <div class="timeline-content">
                            <h4>âš¡ æ€§èƒ½ä¼˜åŒ–ç»„ä»¶è¿ç§»</h4>
                            <ul class="tasks">
                                <li>é‡æ„StreamCacheOptimizer</li>
                                <li>é€‚é…æ™ºèƒ½é™é‡‡æ ·ç®—æ³•</li>
                                <li>å®ç°æ‰¹å¤„ç†ä¼˜åŒ–</li>
                                <li>è°ƒæ•´StreamToFrontendBridge</li>
                                <li>æ€§èƒ½åŸºå‡†æµ‹è¯•</li>
                            </ul>
                            <p><strong>äº¤ä»˜ç‰©ï¼š</strong>ä¼˜åŒ–ç»„ä»¶ã€æ€§èƒ½æµ‹è¯•æŠ¥å‘Š</p>
                        </div>
                    </div>
                    
                    <div class="timeline-item">
                        <div class="timeline-week">ç¬¬4å‘¨</div>
                        <div class="timeline-content">
                            <h4>ğŸ”„ ç®¡ç†å’Œç»´æŠ¤ç»„ä»¶</h4>
                            <ul class="tasks">
                                <li>é€‚é…AdaptiveConsumerManager</li>
                                <li>é‡å†™StreamMaintenanceManager</li>
                                <li>å®ç°Topicæ¸…ç†ç­–ç•¥</li>
                                <li>æ›´æ–°ç›‘æ§æŒ‡æ ‡é‡‡é›†</li>
                                <li>é›†æˆæµ‹è¯•éªŒè¯</li>
                            </ul>
                            <p><strong>äº¤ä»˜ç‰©ï¼š</strong>ç®¡ç†ç»„ä»¶ã€ç»´æŠ¤ç­–ç•¥</p>
                        </div>
                    </div>
                    
                    <div class="timeline-item">
                        <div class="timeline-week">ç¬¬5å‘¨</div>
                        <div class="timeline-content">
                            <h4>ğŸ§ª ç³»ç»Ÿé›†æˆæµ‹è¯•</h4>
                            <ul class="tasks">
                                <li>ç«¯åˆ°ç«¯åŠŸèƒ½æµ‹è¯•</li>
                                <li>æ€§èƒ½å‹åŠ›æµ‹è¯•</li>
                                <li>æ•…éšœæ¢å¤æµ‹è¯•</li>
                                <li>æ•°æ®ä¸€è‡´æ€§éªŒè¯</li>
                                <li>ç”¨æˆ·éªŒæ”¶æµ‹è¯•</li>
                            </ul>
                            <p><strong>äº¤ä»˜ç‰©ï¼š</strong>æµ‹è¯•æŠ¥å‘Šã€é—®é¢˜ä¿®å¤</p>
                        </div>
                    </div>
                    
                    <div class="timeline-item">
                        <div class="timeline-week">ç¬¬6å‘¨</div>
                        <div class="timeline-content">
                            <h4>ğŸš€ ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²</h4>
                            <ul class="tasks">
                                <li>ç”Ÿäº§ç¯å¢ƒAutoMQé›†ç¾¤éƒ¨ç½²</li>
                                <li>åŒå†™æ¨¡å¼é…ç½®å’Œå¯åŠ¨</li>
                                <li>ç°åº¦æµé‡åˆ‡æ¢</li>
                                <li>ç›‘æ§å’Œå‘Šè­¦é…ç½®</li>
                                <li>æ€§èƒ½è°ƒä¼˜å’Œä¼˜åŒ–</li>
                            </ul>
                            <p><strong>äº¤ä»˜ç‰©ï¼š</strong>ç”Ÿäº§ç³»ç»Ÿã€åˆ‡æ¢æ–¹æ¡ˆ</p>
                        </div>
                    </div>
                    
                    <div class="timeline-item">
                        <div class="timeline-week">ç¬¬7-8å‘¨</div>
                        <div class="timeline-content">
                            <h4>âœ… å®Œæˆåˆ‡æ¢å’Œä¼˜åŒ–</h4>
                            <ul class="tasks">
                                <li>å…¨é‡æµé‡åˆ‡æ¢åˆ°AutoMQ</li>
                                <li>å…³é—­Redis StreamåŒå†™</li>
                                <li>æ¸…ç†é—ç•™ä»£ç å’Œé…ç½®</li>
                                <li>æ€§èƒ½è°ƒä¼˜å’Œç¨³å®šæ€§ä¼˜åŒ–</li>
                                <li>æ–‡æ¡£æ›´æ–°å’Œå›¢é˜ŸåŸ¹è®­</li>
                            </ul>
                            <p><strong>äº¤ä»˜ç‰©ï¼š</strong>å®Œæ•´ç³»ç»Ÿã€è¿ç»´æ–‡æ¡£</p>
                        </div>
                    </div>
                </div>
            </section>

            <!-- æŠ€æœ¯æ¶æ„å¯¹æ¯” -->
            <section class="section">
                <h2>ğŸ—ï¸ æŠ€æœ¯æ¶æ„å¯¹æ¯”</h2>
                
                <div class="architecture-diagram">
                    <h3>å½“å‰ Redis Stream æ¶æ„</h3>
                    <div style="background: white; padding: 20px; border-radius: 8px; margin: 20px 0;">
                        <pre style="font-family: monospace; font-size: 11px; line-height: 1.3;">
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚   è½¦è¾†ä¼ æ„Ÿå™¨     â”‚    â”‚   æ•°æ®é¢„å¤„ç†     â”‚    â”‚  Redis Stream   â”‚
    â”‚   Vehicle       â”‚â”€â”€â”€â–¶â”‚   Preprocessor  â”‚â”€â”€â”€â–¶â”‚   Raw Data      â”‚
    â”‚   Sensors       â”‚    â”‚                 â”‚    â”‚   Stream        â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                                           â”‚
                                                           â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚                        Redis Stream é›†ç¾¤                            â”‚
    â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
    â”‚  â”‚  motor_raw_data â”‚ fault_diagnosis_results â”‚ system_alerts    â”‚ â”‚
    â”‚  â”‚  Stream         â”‚ Stream                  â”‚ Stream           â”‚ â”‚
    â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
    â”‚           â”‚                    â”‚                       â”‚             â”‚
    â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
    â”‚  â”‚ Consumer Group1 â”‚  â”‚ Consumer Group2 â”‚    â”‚ Consumer Group3 â”‚     â”‚
    â”‚  â”‚ (æ•…éšœè¯Šæ–­)      â”‚  â”‚ (ç»“æœèšåˆ)      â”‚    â”‚ (å‰ç«¯æ¡¥æ¥)      â”‚     â”‚
    â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                    â”‚
                                    â–¼
                        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                        â”‚   WebSocket     â”‚
                        â”‚   Frontend      â”‚
                        â”‚   Dashboard     â”‚
                        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        </pre>
                    </div>
                </div>
                
                <div class="architecture-diagram">
                    <h3>ç›®æ ‡ AutoMQ æ¶æ„</h3>
                    <div style="background: white; padding: 20px; border-radius: 8px; margin: 20px 0;">
                        <pre style="font-family: monospace; font-size: 11px; line-height: 1.3;">
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚   è½¦è¾†ä¼ æ„Ÿå™¨     â”‚    â”‚   æ•°æ®é¢„å¤„ç†     â”‚    â”‚  Kafka Producer â”‚
    â”‚   Vehicle       â”‚â”€â”€â”€â–¶â”‚   Preprocessor  â”‚â”€â”€â”€â–¶â”‚   (AutoMQ)      â”‚
    â”‚   Sensors       â”‚    â”‚                 â”‚    â”‚                 â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                                           â”‚
                                                           â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚                        AutoMQ äº‘åŸç”Ÿé›†ç¾¤                            â”‚
    â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
    â”‚  â”‚  motor-raw-data    â”‚ fault-results       â”‚ system-alerts      â”‚ â”‚
    â”‚  â”‚  Topic (3åˆ†åŒº)     â”‚ Topic (3åˆ†åŒº)       â”‚ Topic (1åˆ†åŒº)      â”‚ â”‚
    â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
    â”‚           â”‚                    â”‚                       â”‚             â”‚
    â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
    â”‚  â”‚ Consumer Group1 â”‚  â”‚ Consumer Group2 â”‚    â”‚ Consumer Group3 â”‚     â”‚
    â”‚  â”‚ (æ•…éšœè¯Šæ–­)      â”‚  â”‚ (ç»“æœèšåˆ)      â”‚    â”‚ (å‰ç«¯æ¡¥æ¥)      â”‚     â”‚
    â”‚  â”‚ è‡ªåŠ¨åˆ†åŒºè´Ÿè½½å‡è¡¡ â”‚  â”‚ æ‰¹å¤„ç†ä¼˜åŒ–      â”‚    â”‚ å®æ—¶æ¨é€        â”‚     â”‚
    â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
    â”‚                                                                      â”‚
    â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
    â”‚  â”‚              äº‘åŸç”Ÿç‰¹æ€§                                         â”‚ â”‚
    â”‚  â”‚  â€¢ è‡ªåŠ¨æ‰©ç¼©å®¹    â€¢ å¤šäº‘éƒ¨ç½²    â€¢ æˆæœ¬ä¼˜åŒ–    â€¢ é«˜å¯ç”¨          â”‚ â”‚
    â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                    â”‚
                                    â–¼
                        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                        â”‚   WebSocket     â”‚
                        â”‚   Frontend      â”‚
                        â”‚   Dashboard     â”‚
                        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        </pre>
                    </div>
                </div>
            </section>

            <!-- å…³é”®æŠ€æœ¯ç»†èŠ‚ -->
            <section class="section">
                <h2>ğŸ”§ å…³é”®æŠ€æœ¯ç»†èŠ‚</h2>
                
                <div class="component-grid">
                    <div class="component-card">
                        <h4>ğŸ”„ æ¶ˆæ¯åºåˆ—åŒ–å˜æ›´</h4>
                        <p><strong>Redis Stream:</strong></p>
                        <ul>
                            <li>ä½¿ç”¨RedisåŸç”Ÿæ•°æ®ç±»å‹</li>
                            <li>å­—æ®µå€¼ä¸ºå­—ç¬¦ä¸²æ ¼å¼</li>
                            <li>JSONæ•°æ®éœ€è¦æ‰‹åŠ¨åºåˆ—åŒ–</li>
                        </ul>
                        <p><strong>AutoMQ:</strong></p>
                        <ul>
                            <li>ä½¿ç”¨JSONåºåˆ—åŒ–å™¨</li>
                            <li>æ”¯æŒå¤æ‚æ•°æ®ç»“æ„</li>
                            <li>è‡ªåŠ¨åºåˆ—åŒ–/ååºåˆ—åŒ–</li>
                        </ul>
                    </div>
                    
                    <div class="component-card">
                        <h4>ğŸ“Š åˆ†åŒºç­–ç•¥è®¾è®¡</h4>
                        <p><strong>å…³é”®åŸåˆ™:</strong></p>
                        <ul>
                            <li>ä½¿ç”¨vehicle_idä½œä¸ºåˆ†åŒºé”®</li>
                            <li>ç¡®ä¿åŒä¸€è½¦è¾†æ¶ˆæ¯æœ‰åº</li>
                            <li>3ä¸ªåˆ†åŒºæ”¯æŒè´Ÿè½½å‡è¡¡</li>
                            <li>æ•…éšœç±»å‹ç‹¬ç«‹Topic</li>
                        </ul>
                        <p><strong>åˆ†åŒºæ˜ å°„:</strong></p>
                        <ul>
                            <li>motor-raw-data: 3åˆ†åŒº</li>
                            <li>fault-results: 3åˆ†åŒº</li>
                            <li>system-alerts: 1åˆ†åŒº</li>
                        </ul>
                    </div>
                    
                    <div class="component-card">
                        <h4>âš¡ æ€§èƒ½ä¼˜åŒ–ç­–ç•¥</h4>
                        <p><strong>ç”Ÿäº§è€…ä¼˜åŒ–:</strong></p>
                        <ul>
                            <li>æ‰¹å¤„ç†å¤§å°: 16KB</li>
                            <li>å»¶è¿Ÿæ—¶é—´: 10ms</li>
                            <li>å‹ç¼©ç®—æ³•: snappy</li>
                            <li>å¼‚æ­¥å‘é€æ¨¡å¼</li>
                        </ul>
                        <p><strong>æ¶ˆè´¹è€…ä¼˜åŒ–:</strong></p>
                        <ul>
                            <li>æ‰¹é‡æ‹‰å–: 50æ¡/æ¬¡</li>
                            <li>æœ€å°å­—èŠ‚æ•°: 1KB</li>
                            <li>æœ€å¤§ç­‰å¾…: 500ms</li>
                            <li>æ‰‹åŠ¨æäº¤offset</li>
                        </ul>
                    </div>
                    
                    <div class="component-card">
                        <h4>ğŸ›¡ï¸ å®¹é”™å’Œæ¢å¤</h4>
                        <p><strong>ç”Ÿäº§è€…å®¹é”™:</strong></p>
                        <ul>
                            <li>é‡è¯•æ¬¡æ•°: 3æ¬¡</li>
                            <li>acks=all ç¡®ä¿å¯é æ€§</li>
                            <li>å¹‚ç­‰æ€§ä¿è¯</li>
                            <li>äº‹åŠ¡æ”¯æŒ(å¯é€‰)</li>
                        </ul>
                        <p><strong>æ¶ˆè´¹è€…å®¹é”™:</strong></p>
                        <ul>
                            <li>è‡ªåŠ¨é‡å¹³è¡¡</li>
                            <li>ä¼šè¯è¶…æ—¶: 30ç§’</li>
                            <li>å¿ƒè·³é—´éš”: 3ç§’</li>
                            <li>å¤±è´¥é‡è¯•æœºåˆ¶</li>
                        </ul>
                    </div>
                </div>
            </section>

            <!-- é£é™©è¯„ä¼°å’Œç¼“è§£ -->
            <section class="section">
                <h2>âš ï¸ é£é™©è¯„ä¼°å’Œç¼“è§£æªæ–½</h2>
                
                <div class="warning-box">
                    <h4>ğŸš¨ é«˜é£é™©é¡¹</h4>
                    <ul>
                        <li><strong>æ•°æ®ä¸¢å¤±é£é™©:</strong>è¿ç§»è¿‡ç¨‹ä¸­å¯èƒ½å‡ºç°æ¶ˆæ¯ä¸¢å¤±</li>
                        <li><strong>æ€§èƒ½ä¸‹é™:</strong>åˆæœŸé…ç½®å¯èƒ½ä¸å¤Ÿä¼˜åŒ–</li>
                        <li><strong>å…¼å®¹æ€§é—®é¢˜:</strong>æ¶ˆæ¯æ ¼å¼å’ŒAPIå˜æ›´</li>
                        <li><strong>è¿ç»´å¤æ‚åº¦:</strong>å›¢é˜Ÿéœ€è¦å­¦ä¹ æ–°æŠ€æœ¯æ ˆ</li>
                    </ul>
                </div>
                
                <div class="success-box">
                    <h4>âœ… ç¼“è§£æªæ–½</h4>
                    <ul>
                        <li><strong>åŒå†™ç­–ç•¥:</strong>Rediså’ŒAutoMQåŒæ—¶å†™å…¥ï¼Œç¡®ä¿æ•°æ®å®‰å…¨</li>
                        <li><strong>ç°åº¦å‘å¸ƒ:</strong>åˆ†é˜¶æ®µåˆ‡æ¢ï¼ŒåŠæ—¶å‘ç°å’Œè§£å†³é—®é¢˜</li>
                        <li><strong>å›æ»šé¢„æ¡ˆ:</strong>å®Œæ•´çš„å›æ»šæµç¨‹ï¼Œ5åˆ†é’Ÿå†…æ¢å¤</li>
                        <li><strong>å…¨é¢ç›‘æ§:</strong>å®æ—¶ç›‘æ§ç³»ç»ŸçŠ¶æ€å’Œæ€§èƒ½æŒ‡æ ‡</li>
                        <li><strong>å›¢é˜ŸåŸ¹è®­:</strong>æå‰è¿›è¡ŒAutoMQæŠ€æœ¯åŸ¹è®­</li>
                        <li><strong>ä¸“å®¶æ”¯æŒ:</strong>è”ç³»AutoMQæŠ€æœ¯æ”¯æŒå›¢é˜Ÿ</li>
                    </ul>
                </div>
            </section>

            <!-- æˆæœ¬æ•ˆç›Šåˆ†æ -->
            <section class="section">
                <h2>ğŸ’° è¿ç§»æˆæœ¬æ•ˆç›Šåˆ†æ</h2>
                
                <table class="migration-table">
                    <thead>
                        <tr>
                            <th>æˆæœ¬é¡¹ç›®</th>
                            <th>ä¸€æ¬¡æ€§æˆæœ¬</th>
                            <th>å¹´åº¦æˆæœ¬å˜åŒ–</th>
                            <th>è¯´æ˜</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>å¼€å‘æˆæœ¬</td>
                            <td>$60,000</td>
                            <td>-</td>
                            <td>6-8å‘¨å¼€å‘å·¥ä½œï¼ŒåŒ…æ‹¬æµ‹è¯•å’Œéƒ¨ç½²</td>
                        </tr>
                        <tr>
                            <td>åŸºç¡€è®¾æ–½æˆæœ¬</td>
                            <td>$5,000</td>
                            <td>-$30,000</td>
                            <td>AutoMQäº‘åŸç”Ÿæ¶æ„ï¼Œé™ä½50-80%æˆæœ¬</td>
                        </tr>
                        <tr>
                            <td>è¿ç»´æˆæœ¬</td>
                            <td>$10,000</td>
                            <td>-$80,000</td>
                            <td>è‡ªåŠ¨åŒ–è¿ç»´ï¼Œå‡å°‘äººå·¥å¹²é¢„</td>
                        </tr>
                        <tr>
                            <td>åŸ¹è®­æˆæœ¬</td>
                            <td>$15,000</td>
                            <td>-</td>
                            <td>å›¢é˜ŸæŠ€èƒ½åŸ¹è®­å’ŒçŸ¥è¯†è½¬ç§»</td>
                        </tr>
                        <tr>
                            <td>é£é™©ç¼“è§£</td>
                            <td>$10,000</td>
                            <td>-</td>
                            <td>åŒå†™æœŸé—´é¢å¤–èµ„æºæ¶ˆè€—</td>
                        </tr>
                        <tr style="background-color: #e8f5e8; font-weight: bold;">
                            <td>æ€»è®¡</td>
                            <td>$100,000</td>
                            <td>-$110,000</td>
                            <td>æŠ•èµ„å›æŠ¥æœŸ: 11ä¸ªæœˆ</td>
                        </tr>
                    </tbody>
                </table>
                
                <div class="highlight-box">
                    <h4>ğŸ“ˆ é¢„æœŸæ”¶ç›Š</h4>
                    <ul>
                        <li><strong>æ€§èƒ½æå‡:</strong>ååé‡æå‡5-10å€ï¼Œå»¶è¿Ÿé™ä½30%</li>
                        <li><strong>æ‰©å±•æ€§:</strong>æ”¯æŒæ— é™æ°´å¹³æ‰©å±•ï¼Œé€‚åº”ä¸šåŠ¡å¢é•¿</li>
                        <li><strong>å¯é æ€§:</strong>99.99%å¯ç”¨æ€§ï¼Œæ•…éšœæ¢å¤æ—¶é—´<1åˆ†é’Ÿ</li>
                        <li><strong>æˆæœ¬ä¼˜åŒ–:</strong>å¹´åº¦è¿è¥æˆæœ¬é™ä½60-70%</li>
                        <li><strong>å¼€å‘æ•ˆç‡:</strong>Kafkaç”Ÿæ€ä¸°å¯Œï¼Œå¼€å‘æ•ˆç‡æå‡40%</li>
                    </ul>
                </div>
            </section>

            <!-- å®æ–½å»ºè®® -->
            <section class="section">
                <h2>ğŸ¯ å®æ–½å»ºè®®</h2>
                
                <div class="success-box">
                    <h4>âœ… æ¨èå®æ–½AutoMQè¿ç§»</h4>
                    <p><strong>ç†ç”±:</strong></p>
                    <ul>
                        <li>AutoMQæä¾›Kafka API 100%å…¼å®¹ï¼Œè¿ç§»é£é™©å¯æ§</li>
                        <li>äº‘åŸç”Ÿæ¶æ„å¸¦æ¥æ˜¾è‘—çš„æˆæœ¬å’Œè¿ç»´ä¼˜åŠ¿</li>
                        <li>æ€§èƒ½æå‡æ˜æ˜¾ï¼Œèƒ½å¤Ÿæ”¯æ’‘æœªæ¥ä¸šåŠ¡å¢é•¿</li>
                        <li>æŠ€æœ¯æ ˆç»Ÿä¸€ï¼Œä¾¿äºå›¢é˜ŸæŠ€èƒ½å‘å±•</li>
                    </ul>
                </div>
                
                <div class="component-grid">
                    <div class="component-card">
                        <h4>ğŸš€ ç«‹å³å¼€å§‹</h4>
                        <ul>
                            <li>ç”³è¯·AutoMQè¯•ç”¨è´¦å·</li>
                            <li>æ­å»ºæµ‹è¯•ç¯å¢ƒ</li>
                            <li>å¼€å±•å›¢é˜ŸæŠ€æœ¯åŸ¹è®­</li>
                            <li>åˆ¶å®šè¯¦ç»†é¡¹ç›®è®¡åˆ’</li>
                        </ul>
                    </div>
                    
                    <div class="component-card">
                        <h4>ğŸ“‹ å‡†å¤‡å·¥ä½œ</h4>
                        <ul>
                            <li>æ¢³ç†ç°æœ‰ä¸šåŠ¡æµç¨‹</li>
                            <li>ç¡®å®šè¿ç§»ä¼˜å…ˆçº§</li>
                            <li>å‡†å¤‡æµ‹è¯•æ•°æ®é›†</li>
                            <li>å»ºç«‹ç›‘æ§åŸºçº¿</li>
                        </ul>
                    </div>
                    
                    <div class="component-card">
                        <h4>ğŸ›¡ï¸ é£é™©æ§åˆ¶</h4>
                        <ul>
                            <li>åˆ¶å®šå®Œæ•´å›æ»šé¢„æ¡ˆ</li>
                            <li>å»ºç«‹åº”æ€¥å“åº”æœºåˆ¶</li>
                            <li>å‡†å¤‡æŠ€æœ¯æ”¯æŒæ¸ é“</li>
                            <li>å®‰æ’ä¸“äººè´Ÿè´£ç›‘æ§</li>
                        </ul>
                    </div>
                    
                    <div class="component-card">
                        <h4>ğŸ“ˆ æŒç»­ä¼˜åŒ–</h4>
                        <ul>
                            <li>å®šæœŸæ€§èƒ½è°ƒä¼˜</li>
                            <li>ç›‘æ§æˆæœ¬å˜åŒ–</li>
                            <li>æ”¶é›†ç”¨æˆ·åé¦ˆ</li>
                            <li>è§„åˆ’åç»­å‡çº§</li>
                        </ul>
                    </div>
                </div>
            </section>
        </main>

        <footer class="footer">
            <p>&copy; 2025 Redis Stream â†’ AutoMQ è¿ç§»åˆ†ææŠ¥å‘Š</p>
            <p>æŠ¥å‘Šç”Ÿæˆæ—¶é—´ï¼š2025å¹´1æœˆ | æŠ€æœ¯æ¶æ„å‡çº§æŒ‡å¯¼æ–‡æ¡£</p>
        </footer>
    </div>
</body>
</html> 